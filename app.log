2025-07-19 12:44:03,648 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 12:44:03,755 - INFO - uvicorn.error:server:_serve():84 - Started server process [148518]
2025-07-19 12:44:03,755 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 12:44:03,755 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 12:44:03,755 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 12:44:03,764 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():38 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 12:44:03,764 - CRITICAL - main:main:lifespan():80 - Erreur fatale lors de l'initialisation de la base de données: 'MySQLConnectionPool' object has no attribute 'get_num_used_connections'
Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/main.py", line 72, in lifespan
    conn = get_db_connection()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/app/base_de_donnees/connexion.py", line 52, in get_db_connection
    logger.debug(f"Connexion obtenue du pool. Connexions utilisées: {db_pool.get_num_used_connections()}, disponibles: {db_pool.get_num_free_connections()}")
                                                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MySQLConnectionPool' object has no attribute 'get_num_used_connections'
2025-07-19 12:44:03,765 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 12:44:03,765 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():41 - IntegrateurLLM initialisé.
2025-07-19 12:44:03,766 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - Gestionnaire de Connaissances initialisé.
2025-07-19 12:44:03,766 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():47 - GestionnaireConnaissances initialisé.
2025-07-19 12:44:03,766 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 12:44:03,766 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():54 - GestionnaireContexte initialisé.
2025-07-19 12:44:03,766 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 12:44:03,766 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():60 - GestionnaireVocal initialisé.
2025-07-19 12:44:03,766 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():29 - GestionnaireAuthentification initialisé.
2025-07-19 12:44:03,766 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():69 - GestionnaireAuthentification initialisé.
2025-07-19 12:44:03,768 - ERROR - uvicorn.error:on:send():121 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/main.py", line 92, in lifespan
    await init_gestionnaire_patient_instance() # Dépend de IntegrateurLLM, GestionnaireContexte
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/app/dependances/injection.py", line 74, in init_gestionnaire_patient_instance
    _gestionnaire_patient_instance = GestionnairePatient(
                                     ^^^^^^^^^^^^^^^^^^^^
TypeError: GestionnairePatient.__init__() missing 1 required positional argument: 'moteur_diagnostic'

2025-07-19 12:44:03,768 - ERROR - uvicorn.error:on:startup():59 - Application startup failed. Exiting.
2025-07-19 13:17:22,916 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 13:17:23,035 - INFO - uvicorn.error:server:_serve():84 - Started server process [152357]
2025-07-19 13:17:23,035 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 13:17:23,035 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 13:17:23,036 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 13:17:23,049 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():37 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 13:17:23,049 - CRITICAL - main:main:lifespan():80 - Erreur fatale lors de l'initialisation de la base de données: 'MySQLConnectionPool' object has no attribute 'get_num_used_connections'
Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/main.py", line 72, in lifespan
    conn = get_db_connection()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/app/base_de_donnees/connexion.py", line 51, in get_db_connection
    logger.debug(f"Connexion obtenue du pool. Connexions utilisées: {db_pool.get_num_used_connections()}, disponibles: {db_pool.get_num_free_connections()}")
                                                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MySQLConnectionPool' object has no attribute 'get_num_used_connections'
2025-07-19 13:17:23,051 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 13:17:23,051 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():41 - IntegrateurLLM initialisé.
2025-07-19 13:17:23,051 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - Gestionnaire de Connaissances initialisé.
2025-07-19 13:17:23,052 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():47 - GestionnaireConnaissances initialisé.
2025-07-19 13:17:23,052 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 13:17:23,052 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():54 - GestionnaireContexte initialisé.
2025-07-19 13:17:23,052 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 13:17:23,052 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():60 - GestionnaireVocal initialisé.
2025-07-19 13:17:23,052 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():29 - GestionnaireAuthentification initialisé.
2025-07-19 13:17:23,052 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():69 - GestionnaireAuthentification initialisé.
2025-07-19 13:17:23,054 - ERROR - uvicorn.error:on:send():121 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/main.py", line 92, in lifespan
    await init_gestionnaire_patient_instance() # Dépend de IntegrateurLLM, GestionnaireContexte
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/app/dependances/injection.py", line 74, in init_gestionnaire_patient_instance
    _gestionnaire_patient_instance = GestionnairePatient(
                                     ^^^^^^^^^^^^^^^^^^^^
TypeError: GestionnairePatient.__init__() missing 1 required positional argument: 'moteur_diagnostic'

2025-07-19 13:17:23,054 - ERROR - uvicorn.error:on:startup():59 - Application startup failed. Exiting.
2025-07-19 13:21:30,685 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 13:21:30,800 - INFO - uvicorn.error:server:_serve():84 - Started server process [152978]
2025-07-19 13:21:30,800 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 13:21:30,800 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 13:21:30,800 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 13:21:30,811 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():37 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 13:21:30,812 - CRITICAL - main:main:lifespan():80 - Erreur fatale lors de l'initialisation de la base de données: 'MySQLConnectionPool' object has no attribute 'get_num_used_connections'
Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/main.py", line 72, in lifespan
    conn = get_db_connection()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/app/base_de_donnees/connexion.py", line 51, in get_db_connection
    logger.debug(f"Connexion obtenue du pool. Connexions utilisées: {db_pool.get_num_used_connections()}, disponibles: {db_pool.get_num_free_connections()}")
                                                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MySQLConnectionPool' object has no attribute 'get_num_used_connections'
2025-07-19 13:21:30,814 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 13:21:30,814 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():41 - IntegrateurLLM initialisé.
2025-07-19 13:21:30,814 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - Gestionnaire de Connaissances initialisé.
2025-07-19 13:21:30,814 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():47 - GestionnaireConnaissances initialisé.
2025-07-19 13:21:30,814 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 13:21:30,814 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():54 - GestionnaireContexte initialisé.
2025-07-19 13:21:30,814 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 13:21:30,815 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():60 - GestionnaireVocal initialisé.
2025-07-19 13:21:30,815 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():29 - GestionnaireAuthentification initialisé.
2025-07-19 13:21:30,815 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():69 - GestionnaireAuthentification initialisé.
2025-07-19 13:21:30,817 - ERROR - uvicorn.error:on:send():121 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/main.py", line 92, in lifespan
    await init_gestionnaire_patient_instance() # Dépend de IntegrateurLLM, GestionnaireContexte
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/app/dependances/injection.py", line 74, in init_gestionnaire_patient_instance
    _gestionnaire_patient_instance = GestionnairePatient(
                                     ^^^^^^^^^^^^^^^^^^^^
TypeError: GestionnairePatient.__init__() missing 1 required positional argument: 'moteur_diagnostic'

2025-07-19 13:21:30,817 - ERROR - uvicorn.error:on:startup():59 - Application startup failed. Exiting.
2025-07-19 13:31:01,974 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 13:31:02,090 - INFO - uvicorn.error:server:_serve():84 - Started server process [154033]
2025-07-19 13:31:02,090 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 13:31:02,091 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 13:31:02,091 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 13:31:02,101 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():37 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 13:31:02,102 - CRITICAL - main:main:lifespan():80 - Erreur fatale lors de l'initialisation de la base de données: 'MySQLConnectionPool' object has no attribute 'get_num_used_connections'
Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/main.py", line 72, in lifespan
    conn = get_db_connection()
           ^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/app/base_de_donnees/connexion.py", line 51, in get_db_connection
    logger.debug(f"Connexion obtenue du pool. Connexions utilisées: {db_pool.get_num_used_connections()}, disponibles: {db_pool.get_num_free_connections()}")
                                                                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'MySQLConnectionPool' object has no attribute 'get_num_used_connections'
2025-07-19 13:31:02,103 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 13:31:02,103 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():41 - IntegrateurLLM initialisé.
2025-07-19 13:31:02,103 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - Gestionnaire de Connaissances initialisé.
2025-07-19 13:31:02,103 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():47 - GestionnaireConnaissances initialisé.
2025-07-19 13:31:02,103 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 13:31:02,104 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():54 - GestionnaireContexte initialisé.
2025-07-19 13:31:02,104 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 13:31:02,104 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():60 - GestionnaireVocal initialisé.
2025-07-19 13:31:02,104 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():29 - GestionnaireAuthentification initialisé.
2025-07-19 13:31:02,104 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():69 - GestionnaireAuthentification initialisé.
2025-07-19 13:31:02,106 - ERROR - uvicorn.error:on:send():121 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/main.py", line 92, in lifespan
    await init_gestionnaire_patient_instance() # Dépend de IntegrateurLLM, GestionnaireContexte
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/app/dependances/injection.py", line 74, in init_gestionnaire_patient_instance
    _gestionnaire_patient_instance = GestionnairePatient(
                                     ^^^^^^^^^^^^^^^^^^^^
TypeError: GestionnairePatient.__init__() missing 1 required positional argument: 'moteur_diagnostic'

2025-07-19 13:31:02,107 - ERROR - uvicorn.error:on:startup():59 - Application startup failed. Exiting.
2025-07-19 13:31:12,105 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 13:31:12,240 - INFO - uvicorn.error:server:_serve():84 - Started server process [154077]
2025-07-19 13:31:12,240 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 13:31:12,241 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 13:31:12,241 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 13:31:12,249 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():36 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 13:31:12,249 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 13:31:12,249 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 13:31:12,249 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():41 - IntegrateurLLM initialisé.
2025-07-19 13:31:12,250 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - Gestionnaire de Connaissances initialisé.
2025-07-19 13:31:12,250 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():47 - GestionnaireConnaissances initialisé.
2025-07-19 13:31:12,250 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 13:31:12,250 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():54 - GestionnaireContexte initialisé.
2025-07-19 13:31:12,250 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 13:31:12,250 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():60 - GestionnaireVocal initialisé.
2025-07-19 13:31:12,250 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():29 - GestionnaireAuthentification initialisé.
2025-07-19 13:31:12,250 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():69 - GestionnaireAuthentification initialisé.
2025-07-19 13:31:12,252 - ERROR - uvicorn.error:on:send():121 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/main.py", line 92, in lifespan
    await init_gestionnaire_patient_instance() # Dépend de IntegrateurLLM, GestionnaireContexte
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/app/dependances/injection.py", line 74, in init_gestionnaire_patient_instance
    _gestionnaire_patient_instance = GestionnairePatient(
                                     ^^^^^^^^^^^^^^^^^^^^
TypeError: GestionnairePatient.__init__() missing 1 required positional argument: 'moteur_diagnostic'

2025-07-19 13:31:12,252 - ERROR - uvicorn.error:on:startup():59 - Application startup failed. Exiting.
2025-07-19 13:31:22,396 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 13:31:22,531 - INFO - uvicorn.error:server:_serve():84 - Started server process [154100]
2025-07-19 13:31:22,532 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 13:31:22,532 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 13:31:22,532 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 13:31:22,541 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():35 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 13:31:22,541 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 13:31:22,541 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 13:31:22,542 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():41 - IntegrateurLLM initialisé.
2025-07-19 13:31:22,542 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - Gestionnaire de Connaissances initialisé.
2025-07-19 13:31:22,542 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():47 - GestionnaireConnaissances initialisé.
2025-07-19 13:31:22,542 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 13:31:22,542 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():54 - GestionnaireContexte initialisé.
2025-07-19 13:31:22,542 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 13:31:22,542 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():60 - GestionnaireVocal initialisé.
2025-07-19 13:31:22,542 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():29 - GestionnaireAuthentification initialisé.
2025-07-19 13:31:22,543 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():69 - GestionnaireAuthentification initialisé.
2025-07-19 13:31:22,545 - ERROR - uvicorn.error:on:send():121 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/main.py", line 92, in lifespan
    await init_gestionnaire_patient_instance() # Dépend de IntegrateurLLM, GestionnaireContexte
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/app/dependances/injection.py", line 74, in init_gestionnaire_patient_instance
    _gestionnaire_patient_instance = GestionnairePatient(
                                     ^^^^^^^^^^^^^^^^^^^^
TypeError: GestionnairePatient.__init__() missing 1 required positional argument: 'moteur_diagnostic'

2025-07-19 13:31:22,545 - ERROR - uvicorn.error:on:startup():59 - Application startup failed. Exiting.
2025-07-19 13:31:28,921 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 13:31:29,036 - INFO - uvicorn.error:server:_serve():84 - Started server process [154115]
2025-07-19 13:31:29,036 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 13:31:29,036 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 13:31:29,036 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 13:31:29,048 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():35 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 13:31:29,048 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 13:31:29,049 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 13:31:29,049 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():41 - IntegrateurLLM initialisé.
2025-07-19 13:31:29,049 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - Gestionnaire de Connaissances initialisé.
2025-07-19 13:31:29,049 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():47 - GestionnaireConnaissances initialisé.
2025-07-19 13:31:29,049 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 13:31:29,049 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():54 - GestionnaireContexte initialisé.
2025-07-19 13:31:29,049 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 13:31:29,049 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():60 - GestionnaireVocal initialisé.
2025-07-19 13:31:29,049 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():29 - GestionnaireAuthentification initialisé.
2025-07-19 13:31:29,049 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():69 - GestionnaireAuthentification initialisé.
2025-07-19 13:31:29,051 - ERROR - uvicorn.error:on:send():121 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/main.py", line 92, in lifespan
    await init_gestionnaire_patient_instance() # Dépend de IntegrateurLLM, GestionnaireContexte
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/app/dependances/injection.py", line 74, in init_gestionnaire_patient_instance
    _gestionnaire_patient_instance = GestionnairePatient(
                                     ^^^^^^^^^^^^^^^^^^^^
TypeError: GestionnairePatient.__init__() missing 1 required positional argument: 'moteur_diagnostic'

2025-07-19 13:31:29,052 - ERROR - uvicorn.error:on:startup():59 - Application startup failed. Exiting.
2025-07-19 13:55:39,824 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 13:55:39,945 - INFO - uvicorn.error:server:_serve():84 - Started server process [156788]
2025-07-19 13:55:39,945 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 13:55:39,946 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 13:55:39,946 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 13:55:39,955 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():36 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 13:55:39,956 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 13:55:39,956 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 13:55:39,956 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():41 - IntegrateurLLM initialisé.
2025-07-19 13:55:39,956 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - Gestionnaire de Connaissances initialisé.
2025-07-19 13:55:39,956 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():47 - GestionnaireConnaissances initialisé.
2025-07-19 13:55:39,957 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 13:55:39,957 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():54 - GestionnaireContexte initialisé.
2025-07-19 13:55:39,957 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 13:55:39,957 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():60 - GestionnaireVocal initialisé.
2025-07-19 13:55:39,957 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():29 - GestionnaireAuthentification initialisé.
2025-07-19 13:55:39,957 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():69 - GestionnaireAuthentification initialisé.
2025-07-19 13:55:39,959 - ERROR - uvicorn.error:on:send():121 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/main.py", line 92, in lifespan
    await init_gestionnaire_patient_instance() # Dépend de IntegrateurLLM, GestionnaireContexte
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/app/dependances/injection.py", line 74, in init_gestionnaire_patient_instance
    _gestionnaire_patient_instance = GestionnairePatient(
                                     ^^^^^^^^^^^^^^^^^^^^
TypeError: GestionnairePatient.__init__() missing 1 required positional argument: 'moteur_diagnostic'

2025-07-19 13:55:39,959 - ERROR - uvicorn.error:on:startup():59 - Application startup failed. Exiting.
2025-07-19 13:55:41,253 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 13:55:41,387 - INFO - uvicorn.error:server:_serve():84 - Started server process [156801]
2025-07-19 13:55:41,387 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 13:55:41,387 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 13:55:41,387 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 13:55:41,397 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():36 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 13:55:41,398 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 13:55:41,398 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 13:55:41,398 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():41 - IntegrateurLLM initialisé.
2025-07-19 13:55:41,398 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - Gestionnaire de Connaissances initialisé.
2025-07-19 13:55:41,398 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():47 - GestionnaireConnaissances initialisé.
2025-07-19 13:55:41,398 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 13:55:41,399 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():54 - GestionnaireContexte initialisé.
2025-07-19 13:55:41,399 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 13:55:41,399 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():60 - GestionnaireVocal initialisé.
2025-07-19 13:55:41,399 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():29 - GestionnaireAuthentification initialisé.
2025-07-19 13:55:41,399 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():69 - GestionnaireAuthentification initialisé.
2025-07-19 13:55:41,401 - ERROR - uvicorn.error:on:send():121 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/main.py", line 92, in lifespan
    await init_gestionnaire_patient_instance() # Dépend de IntegrateurLLM, GestionnaireContexte
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/app/dependances/injection.py", line 74, in init_gestionnaire_patient_instance
    _gestionnaire_patient_instance = GestionnairePatient(
                                     ^^^^^^^^^^^^^^^^^^^^
TypeError: GestionnairePatient.__init__() missing 1 required positional argument: 'moteur_diagnostic'

2025-07-19 13:55:41,401 - ERROR - uvicorn.error:on:startup():59 - Application startup failed. Exiting.
2025-07-19 13:56:20,834 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 13:56:20,959 - INFO - uvicorn.error:server:_serve():84 - Started server process [156886]
2025-07-19 13:56:20,959 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 13:56:20,960 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 13:56:20,960 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 13:56:20,970 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():36 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 13:56:20,970 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 13:56:20,970 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 13:56:20,971 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():41 - IntegrateurLLM initialisé.
2025-07-19 13:56:20,971 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - Gestionnaire de Connaissances initialisé.
2025-07-19 13:56:20,971 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():47 - GestionnaireConnaissances initialisé.
2025-07-19 13:56:20,971 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 13:56:20,971 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():54 - GestionnaireContexte initialisé.
2025-07-19 13:56:20,971 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 13:56:20,971 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():60 - GestionnaireVocal initialisé.
2025-07-19 13:56:20,971 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():29 - GestionnaireAuthentification initialisé.
2025-07-19 13:56:20,971 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():69 - GestionnaireAuthentification initialisé.
2025-07-19 13:56:20,974 - ERROR - uvicorn.error:on:send():121 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/main.py", line 92, in lifespan
    await init_gestionnaire_patient_instance() # Dépend de IntegrateurLLM, GestionnaireContexte
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/app/dependances/injection.py", line 74, in init_gestionnaire_patient_instance
    _gestionnaire_patient_instance = GestionnairePatient(
                                     ^^^^^^^^^^^^^^^^^^^^
TypeError: GestionnairePatient.__init__() missing 1 required positional argument: 'moteur_diagnostic'

2025-07-19 13:56:20,974 - ERROR - uvicorn.error:on:startup():59 - Application startup failed. Exiting.
2025-07-19 13:56:56,228 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 13:56:56,386 - INFO - uvicorn.error:server:_serve():84 - Started server process [156964]
2025-07-19 13:56:56,386 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 13:56:56,387 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 13:56:56,387 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 13:56:56,397 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():36 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 13:56:56,398 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 13:56:56,398 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 13:56:56,398 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():44 - IntegrateurLLM initialisé.
2025-07-19 13:56:56,398 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - Gestionnaire de Connaissances initialisé.
2025-07-19 13:56:56,398 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():52 - GestionnaireConnaissances initialisé.
2025-07-19 13:56:56,398 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 13:56:56,398 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():60 - GestionnaireContexte initialisé.
2025-07-19 13:56:56,399 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 13:56:56,399 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():68 - GestionnaireVocal initialisé.
2025-07-19 13:56:56,399 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():29 - GestionnaireAuthentification initialisé.
2025-07-19 13:56:56,399 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():81 - GestionnaireAuthentification initialisé.
2025-07-19 13:56:56,399 - WARNING - app.dependances.injection:injection:init_gestionnaire_patient_instance():126 - MoteurDiagnostic est None lors de l'initialisation de GestionnairePatient. Initialisation forcée.
2025-07-19 13:56:56,402 - ERROR - uvicorn.error:on:send():121 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/main.py", line 92, in lifespan
    await init_gestionnaire_patient_instance() # Dépend de IntegrateurLLM, GestionnaireContexte
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/app/dependances/injection.py", line 127, in init_gestionnaire_patient_instance
    await init_moteur_diagnostic_instance()
  File "/home/termux/Documents/ia_sante_ia/app/dependances/injection.py", line 103, in init_moteur_diagnostic_instance
    _moteur_diagnostic_instance = MoteurDiagnostic(
                                  ^^^^^^^^^^^^^^^^^
TypeError: MoteurDiagnostic.__init__() got an unexpected keyword argument 'gestionnaire_connaissances'

2025-07-19 13:56:56,402 - ERROR - uvicorn.error:on:startup():59 - Application startup failed. Exiting.
2025-07-19 13:56:57,562 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 13:56:57,681 - INFO - uvicorn.error:server:_serve():84 - Started server process [156970]
2025-07-19 13:56:57,681 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 13:56:57,681 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 13:56:57,681 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 13:56:57,690 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():36 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 13:56:57,690 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 13:56:57,690 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 13:56:57,690 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():44 - IntegrateurLLM initialisé.
2025-07-19 13:56:57,690 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - Gestionnaire de Connaissances initialisé.
2025-07-19 13:56:57,691 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():52 - GestionnaireConnaissances initialisé.
2025-07-19 13:56:57,691 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 13:56:57,691 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():60 - GestionnaireContexte initialisé.
2025-07-19 13:56:57,691 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 13:56:57,691 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():68 - GestionnaireVocal initialisé.
2025-07-19 13:56:57,691 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():29 - GestionnaireAuthentification initialisé.
2025-07-19 13:56:57,691 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():81 - GestionnaireAuthentification initialisé.
2025-07-19 13:56:57,691 - WARNING - app.dependances.injection:injection:init_gestionnaire_patient_instance():126 - MoteurDiagnostic est None lors de l'initialisation de GestionnairePatient. Initialisation forcée.
2025-07-19 13:56:57,694 - ERROR - uvicorn.error:on:send():121 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/main.py", line 92, in lifespan
    await init_gestionnaire_patient_instance() # Dépend de IntegrateurLLM, GestionnaireContexte
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/app/dependances/injection.py", line 127, in init_gestionnaire_patient_instance
    await init_moteur_diagnostic_instance()
  File "/home/termux/Documents/ia_sante_ia/app/dependances/injection.py", line 103, in init_moteur_diagnostic_instance
    _moteur_diagnostic_instance = MoteurDiagnostic(
                                  ^^^^^^^^^^^^^^^^^
TypeError: MoteurDiagnostic.__init__() got an unexpected keyword argument 'gestionnaire_connaissances'

2025-07-19 13:56:57,695 - ERROR - uvicorn.error:on:startup():59 - Application startup failed. Exiting.
2025-07-19 13:57:27,294 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 13:57:27,414 - INFO - uvicorn.error:server:_serve():84 - Started server process [157047]
2025-07-19 13:57:27,414 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 13:57:27,415 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 13:57:27,415 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 13:57:27,424 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():36 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 13:57:27,425 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 13:57:27,425 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 13:57:27,425 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():44 - IntegrateurLLM initialisé.
2025-07-19 13:57:27,425 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - Gestionnaire de Connaissances initialisé.
2025-07-19 13:57:27,425 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():52 - GestionnaireConnaissances initialisé.
2025-07-19 13:57:27,425 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 13:57:27,426 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():60 - GestionnaireContexte initialisé.
2025-07-19 13:57:27,426 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 13:57:27,426 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():68 - GestionnaireVocal initialisé.
2025-07-19 13:57:27,426 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():29 - GestionnaireAuthentification initialisé.
2025-07-19 13:57:27,426 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():81 - GestionnaireAuthentification initialisé.
2025-07-19 13:57:27,428 - ERROR - uvicorn.error:on:send():121 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/main.py", line 94, in lifespan
    await init_moteur_diagnostic_instance()
  File "/home/termux/Documents/ia_sante_ia/app/dependances/injection.py", line 103, in init_moteur_diagnostic_instance
    _moteur_diagnostic_instance = MoteurDiagnostic(
                                  ^^^^^^^^^^^^^^^^^
TypeError: MoteurDiagnostic.__init__() got an unexpected keyword argument 'gestionnaire_connaissances'

2025-07-19 13:57:27,429 - ERROR - uvicorn.error:on:startup():59 - Application startup failed. Exiting.
2025-07-19 13:57:28,517 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 13:57:28,624 - INFO - uvicorn.error:server:_serve():84 - Started server process [157053]
2025-07-19 13:57:28,624 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 13:57:28,625 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 13:57:28,625 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 13:57:28,634 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():36 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 13:57:28,634 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 13:57:28,634 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 13:57:28,635 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():44 - IntegrateurLLM initialisé.
2025-07-19 13:57:28,635 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - Gestionnaire de Connaissances initialisé.
2025-07-19 13:57:28,635 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():52 - GestionnaireConnaissances initialisé.
2025-07-19 13:57:28,635 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 13:57:28,635 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():60 - GestionnaireContexte initialisé.
2025-07-19 13:57:28,635 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 13:57:28,635 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():68 - GestionnaireVocal initialisé.
2025-07-19 13:57:28,635 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():29 - GestionnaireAuthentification initialisé.
2025-07-19 13:57:28,635 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():81 - GestionnaireAuthentification initialisé.
2025-07-19 13:57:28,638 - ERROR - uvicorn.error:on:send():121 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/main.py", line 94, in lifespan
    await init_moteur_diagnostic_instance()
  File "/home/termux/Documents/ia_sante_ia/app/dependances/injection.py", line 103, in init_moteur_diagnostic_instance
    _moteur_diagnostic_instance = MoteurDiagnostic(
                                  ^^^^^^^^^^^^^^^^^
TypeError: MoteurDiagnostic.__init__() got an unexpected keyword argument 'gestionnaire_connaissances'

2025-07-19 13:57:28,638 - ERROR - uvicorn.error:on:startup():59 - Application startup failed. Exiting.
2025-07-19 13:57:40,921 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 13:57:41,035 - INFO - uvicorn.error:server:_serve():84 - Started server process [157078]
2025-07-19 13:57:41,035 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 13:57:41,035 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 13:57:41,036 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 13:57:41,048 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():36 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 13:57:41,048 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 13:57:41,048 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 13:57:41,048 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():44 - IntegrateurLLM initialisé.
2025-07-19 13:57:41,048 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - Gestionnaire de Connaissances initialisé.
2025-07-19 13:57:41,048 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():52 - GestionnaireConnaissances initialisé.
2025-07-19 13:57:41,049 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 13:57:41,049 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():60 - GestionnaireContexte initialisé.
2025-07-19 13:57:41,049 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 13:57:41,049 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():68 - GestionnaireVocal initialisé.
2025-07-19 13:57:41,049 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():29 - GestionnaireAuthentification initialisé.
2025-07-19 13:57:41,049 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():81 - GestionnaireAuthentification initialisé.
2025-07-19 13:57:41,051 - ERROR - uvicorn.error:on:send():121 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/main.py", line 94, in lifespan
    await init_moteur_diagnostic_instance()
  File "/home/termux/Documents/ia_sante_ia/app/dependances/injection.py", line 103, in init_moteur_diagnostic_instance
    _moteur_diagnostic_instance = MoteurDiagnostic(
                                  ^^^^^^^^^^^^^^^^^
TypeError: MoteurDiagnostic.__init__() got an unexpected keyword argument 'gestionnaire_connaissances'

2025-07-19 13:57:41,051 - ERROR - uvicorn.error:on:startup():59 - Application startup failed. Exiting.
2025-07-19 14:04:04,936 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 14:04:05,065 - INFO - uvicorn.error:server:_serve():84 - Started server process [158272]
2025-07-19 14:04:05,065 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 14:04:05,065 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 14:04:05,065 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 14:04:05,075 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():36 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 14:04:05,075 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 14:04:05,075 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 14:04:05,075 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():44 - IntegrateurLLM initialisé.
2025-07-19 14:04:05,075 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - Gestionnaire de Connaissances initialisé.
2025-07-19 14:04:05,076 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():52 - GestionnaireConnaissances initialisé.
2025-07-19 14:04:05,076 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 14:04:05,076 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():60 - GestionnaireContexte initialisé.
2025-07-19 14:04:05,076 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 14:04:05,076 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():68 - GestionnaireVocal initialisé.
2025-07-19 14:04:05,076 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():29 - GestionnaireAuthentification initialisé.
2025-07-19 14:04:05,076 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():81 - GestionnaireAuthentification initialisé.
2025-07-19 14:04:05,076 - INFO - app.services.moteur_diagnostic:moteur_diagnostic:__init__():38 - Moteur de Diagnostic initialisé.
2025-07-19 14:04:05,076 - INFO - app.dependances.injection:injection:init_moteur_diagnostic_instance():109 - MoteurDiagnostic initialisé.
2025-07-19 14:04:05,076 - INFO - app.services.gestionnaire_patient:gestionnaire_patient:__init__():36 - GestionnairePatient initialisé.
2025-07-19 14:04:05,077 - INFO - app.dependances.injection:injection:init_gestionnaire_patient_instance():140 - GestionnairePatient initialisé.
2025-07-19 14:04:05,079 - ERROR - uvicorn.error:on:send():121 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/main.py", line 97, in lifespan
    await init_gestionnaire_medecin_instance()
  File "/home/termux/Documents/ia_sante_ia/app/dependances/injection.py", line 151, in init_gestionnaire_medecin_instance
    _gestionnaire_medecin_instance = GestionnaireMedecin(
                                     ^^^^^^^^^^^^^^^^^^^^
TypeError: GestionnaireMedecin.__init__() missing 2 required positional arguments: 'moteur_diagnostic' and 'gestionnaire_connaissances'

2025-07-19 14:04:05,079 - ERROR - uvicorn.error:on:startup():59 - Application startup failed. Exiting.
2025-07-19 14:05:16,838 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 14:05:16,979 - INFO - uvicorn.error:server:_serve():84 - Started server process [158414]
2025-07-19 14:05:16,979 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 14:05:16,980 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 14:05:16,980 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 14:05:16,988 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():36 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 14:05:16,989 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 14:05:16,989 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 14:05:16,989 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():44 - IntegrateurLLM initialisé.
2025-07-19 14:05:16,989 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - Gestionnaire de Connaissances initialisé.
2025-07-19 14:05:16,989 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():52 - GestionnaireConnaissances initialisé.
2025-07-19 14:05:16,989 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 14:05:16,989 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():60 - GestionnaireContexte initialisé.
2025-07-19 14:05:16,989 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 14:05:16,990 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():68 - GestionnaireVocal initialisé.
2025-07-19 14:05:16,990 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():29 - GestionnaireAuthentification initialisé.
2025-07-19 14:05:16,990 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():81 - GestionnaireAuthentification initialisé.
2025-07-19 14:05:16,990 - INFO - app.services.moteur_diagnostic:moteur_diagnostic:__init__():38 - Moteur de Diagnostic initialisé.
2025-07-19 14:05:16,990 - INFO - app.dependances.injection:injection:init_moteur_diagnostic_instance():109 - MoteurDiagnostic initialisé.
2025-07-19 14:05:16,990 - INFO - app.services.gestionnaire_patient:gestionnaire_patient:__init__():36 - GestionnairePatient initialisé.
2025-07-19 14:05:16,990 - INFO - app.dependances.injection:injection:init_gestionnaire_patient_instance():140 - GestionnairePatient initialisé.
2025-07-19 14:05:16,992 - ERROR - uvicorn.error:on:send():121 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/main.py", line 97, in lifespan
    await init_gestionnaire_medecin_instance()
  File "/home/termux/Documents/ia_sante_ia/app/dependances/injection.py", line 151, in init_gestionnaire_medecin_instance
    _gestionnaire_medecin_instance = GestionnaireMedecin(
                                     ^^^^^^^^^^^^^^^^^^^^
TypeError: GestionnaireMedecin.__init__() missing 2 required positional arguments: 'moteur_diagnostic' and 'gestionnaire_connaissances'

2025-07-19 14:05:16,993 - ERROR - uvicorn.error:on:startup():59 - Application startup failed. Exiting.
2025-07-19 14:05:37,837 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 14:05:37,956 - INFO - uvicorn.error:server:_serve():84 - Started server process [158457]
2025-07-19 14:05:37,956 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 14:05:37,956 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 14:05:37,956 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 14:05:37,965 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():36 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 14:05:37,965 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 14:05:37,966 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 14:05:37,966 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():41 - IntegrateurLLM initialisé.
2025-07-19 14:05:37,966 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - Gestionnaire de Connaissances initialisé.
2025-07-19 14:05:37,966 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():49 - GestionnaireConnaissances initialisé.
2025-07-19 14:05:37,966 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 14:05:37,966 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():57 - GestionnaireContexte initialisé.
2025-07-19 14:05:37,966 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 14:05:37,966 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():65 - GestionnaireVocal initialisé.
2025-07-19 14:05:37,966 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():29 - GestionnaireAuthentification initialisé.
2025-07-19 14:05:37,966 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():78 - GestionnaireAuthentification initialisé.
2025-07-19 14:05:37,967 - INFO - app.services.moteur_diagnostic:moteur_diagnostic:__init__():38 - Moteur de Diagnostic initialisé.
2025-07-19 14:05:37,967 - INFO - app.dependances.injection:injection:init_moteur_diagnostic_instance():106 - MoteurDiagnostic initialisé.
2025-07-19 14:05:37,967 - INFO - app.services.gestionnaire_patient:gestionnaire_patient:__init__():36 - GestionnairePatient initialisé.
2025-07-19 14:05:37,967 - INFO - app.dependances.injection:injection:init_gestionnaire_patient_instance():137 - GestionnairePatient initialisé.
2025-07-19 14:05:37,969 - ERROR - uvicorn.error:on:send():121 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/main.py", line 97, in lifespan
    await init_gestionnaire_medecin_instance()
  File "/home/termux/Documents/ia_sante_ia/app/dependances/injection.py", line 148, in init_gestionnaire_medecin_instance
    _gestionnaire_medecin_instance = GestionnaireMedecin(
                                     ^^^^^^^^^^^^^^^^^^^^
TypeError: GestionnaireMedecin.__init__() missing 2 required positional arguments: 'moteur_diagnostic' and 'gestionnaire_connaissances'

2025-07-19 14:05:37,969 - ERROR - uvicorn.error:on:startup():59 - Application startup failed. Exiting.
2025-07-19 14:06:02,393 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 14:06:02,511 - INFO - uvicorn.error:server:_serve():84 - Started server process [158505]
2025-07-19 14:06:02,511 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 14:06:02,511 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 14:06:02,511 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 14:06:02,520 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():36 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 14:06:02,521 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 14:06:02,521 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 14:06:02,521 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():41 - IntegrateurLLM initialisé.
2025-07-19 14:06:02,521 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - Gestionnaire de Connaissances initialisé.
2025-07-19 14:06:02,521 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():49 - GestionnaireConnaissances initialisé.
2025-07-19 14:06:02,521 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 14:06:02,521 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():57 - GestionnaireContexte initialisé.
2025-07-19 14:06:02,521 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 14:06:02,521 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():65 - GestionnaireVocal initialisé.
2025-07-19 14:06:02,522 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():29 - GestionnaireAuthentification initialisé.
2025-07-19 14:06:02,522 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():78 - GestionnaireAuthentification initialisé.
2025-07-19 14:06:02,522 - INFO - app.services.moteur_diagnostic:moteur_diagnostic:__init__():38 - Moteur de Diagnostic initialisé.
2025-07-19 14:06:02,522 - INFO - app.dependances.injection:injection:init_moteur_diagnostic_instance():106 - MoteurDiagnostic initialisé.
2025-07-19 14:06:02,522 - INFO - app.services.gestionnaire_patient:gestionnaire_patient:__init__():36 - GestionnairePatient initialisé.
2025-07-19 14:06:02,522 - INFO - app.dependances.injection:injection:init_gestionnaire_patient_instance():137 - GestionnairePatient initialisé.
2025-07-19 14:06:02,525 - ERROR - uvicorn.error:on:send():121 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/main.py", line 97, in lifespan
    await init_gestionnaire_medecin_instance()
  File "/home/termux/Documents/ia_sante_ia/app/dependances/injection.py", line 148, in init_gestionnaire_medecin_instance
    _gestionnaire_medecin_instance = GestionnaireMedecin(
                                     ^^^^^^^^^^^^^^^^^^^^
TypeError: GestionnaireMedecin.__init__() missing 2 required positional arguments: 'moteur_diagnostic' and 'gestionnaire_connaissances'

2025-07-19 14:06:02,526 - ERROR - uvicorn.error:on:startup():59 - Application startup failed. Exiting.
2025-07-19 14:06:03,584 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 14:06:03,700 - INFO - uvicorn.error:server:_serve():84 - Started server process [158515]
2025-07-19 14:06:03,701 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 14:06:03,701 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 14:06:03,701 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 14:06:03,709 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():36 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 14:06:03,710 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 14:06:03,710 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 14:06:03,710 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():41 - IntegrateurLLM initialisé.
2025-07-19 14:06:03,710 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - Gestionnaire de Connaissances initialisé.
2025-07-19 14:06:03,710 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():49 - GestionnaireConnaissances initialisé.
2025-07-19 14:06:03,710 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 14:06:03,711 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():57 - GestionnaireContexte initialisé.
2025-07-19 14:06:03,711 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 14:06:03,711 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():65 - GestionnaireVocal initialisé.
2025-07-19 14:06:03,711 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():29 - GestionnaireAuthentification initialisé.
2025-07-19 14:06:03,711 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():78 - GestionnaireAuthentification initialisé.
2025-07-19 14:06:03,711 - INFO - app.services.moteur_diagnostic:moteur_diagnostic:__init__():38 - Moteur de Diagnostic initialisé.
2025-07-19 14:06:03,711 - INFO - app.dependances.injection:injection:init_moteur_diagnostic_instance():106 - MoteurDiagnostic initialisé.
2025-07-19 14:06:03,711 - INFO - app.services.gestionnaire_patient:gestionnaire_patient:__init__():36 - GestionnairePatient initialisé.
2025-07-19 14:06:03,711 - INFO - app.dependances.injection:injection:init_gestionnaire_patient_instance():137 - GestionnairePatient initialisé.
2025-07-19 14:06:03,714 - ERROR - uvicorn.error:on:send():121 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/main.py", line 97, in lifespan
    await init_gestionnaire_medecin_instance()
  File "/home/termux/Documents/ia_sante_ia/app/dependances/injection.py", line 148, in init_gestionnaire_medecin_instance
    _gestionnaire_medecin_instance = GestionnaireMedecin(
                                     ^^^^^^^^^^^^^^^^^^^^
TypeError: GestionnaireMedecin.__init__() missing 2 required positional arguments: 'moteur_diagnostic' and 'gestionnaire_connaissances'

2025-07-19 14:06:03,714 - ERROR - uvicorn.error:on:startup():59 - Application startup failed. Exiting.
2025-07-19 14:06:45,389 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 14:06:45,504 - INFO - uvicorn.error:server:_serve():84 - Started server process [158638]
2025-07-19 14:06:45,505 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 14:06:45,505 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 14:06:45,505 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 14:06:45,517 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():36 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 14:06:45,517 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 14:06:45,517 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 14:06:45,517 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():41 - IntegrateurLLM initialisé.
2025-07-19 14:06:45,518 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - Gestionnaire de Connaissances initialisé.
2025-07-19 14:06:45,518 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():49 - GestionnaireConnaissances initialisé.
2025-07-19 14:06:45,518 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 14:06:45,518 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():57 - GestionnaireContexte initialisé.
2025-07-19 14:06:45,518 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 14:06:45,518 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():65 - GestionnaireVocal initialisé.
2025-07-19 14:06:45,518 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():29 - GestionnaireAuthentification initialisé.
2025-07-19 14:06:45,518 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():78 - GestionnaireAuthentification initialisé.
2025-07-19 14:06:45,518 - INFO - app.services.moteur_diagnostic:moteur_diagnostic:__init__():38 - Moteur de Diagnostic initialisé.
2025-07-19 14:06:45,519 - INFO - app.dependances.injection:injection:init_moteur_diagnostic_instance():106 - MoteurDiagnostic initialisé.
2025-07-19 14:06:45,519 - INFO - app.services.gestionnaire_patient:gestionnaire_patient:__init__():36 - GestionnairePatient initialisé.
2025-07-19 14:06:45,519 - INFO - app.dependances.injection:injection:init_gestionnaire_patient_instance():137 - GestionnairePatient initialisé.
2025-07-19 14:06:45,521 - ERROR - uvicorn.error:on:send():121 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/main.py", line 97, in lifespan
    await init_gestionnaire_medecin_instance()
  File "/home/termux/Documents/ia_sante_ia/app/dependances/injection.py", line 148, in init_gestionnaire_medecin_instance
    _gestionnaire_medecin_instance = GestionnaireMedecin(
                                     ^^^^^^^^^^^^^^^^^^^^
TypeError: GestionnaireMedecin.__init__() missing 2 required positional arguments: 'moteur_diagnostic' and 'gestionnaire_connaissances'

2025-07-19 14:06:45,521 - ERROR - uvicorn.error:on:startup():59 - Application startup failed. Exiting.
2025-07-19 14:36:20,344 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 14:36:20,547 - INFO - uvicorn.error:server:_serve():84 - Started server process [162965]
2025-07-19 14:36:20,547 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 14:36:20,548 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 14:36:20,548 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 14:36:20,561 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():36 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 14:36:20,562 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 14:36:20,562 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 14:36:20,562 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():41 - IntegrateurLLM initialisé.
2025-07-19 14:36:20,562 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - Gestionnaire de Connaissances initialisé.
2025-07-19 14:36:20,563 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():49 - GestionnaireConnaissances initialisé.
2025-07-19 14:36:20,563 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 14:36:20,563 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():57 - GestionnaireContexte initialisé.
2025-07-19 14:36:20,563 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 14:36:20,563 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():65 - GestionnaireVocal initialisé.
2025-07-19 14:36:20,563 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():29 - GestionnaireAuthentification initialisé.
2025-07-19 14:36:20,563 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():78 - GestionnaireAuthentification initialisé.
2025-07-19 14:36:20,563 - INFO - app.services.moteur_diagnostic:moteur_diagnostic:__init__():38 - Moteur de Diagnostic initialisé.
2025-07-19 14:36:20,563 - INFO - app.dependances.injection:injection:init_moteur_diagnostic_instance():106 - MoteurDiagnostic initialisé.
2025-07-19 14:36:20,564 - INFO - app.services.gestionnaire_patient:gestionnaire_patient:__init__():36 - GestionnairePatient initialisé.
2025-07-19 14:36:20,564 - INFO - app.dependances.injection:injection:init_gestionnaire_patient_instance():137 - GestionnairePatient initialisé.
2025-07-19 14:36:20,564 - INFO - app.services.gestionnaire_medecin:gestionnaire_medecin:__init__():40 - GestionnaireMedecin initialisé.
2025-07-19 14:36:20,564 - INFO - app.dependances.injection:injection:init_gestionnaire_medecin_instance():172 - GestionnaireMedecin initialisé.
2025-07-19 14:36:20,567 - ERROR - uvicorn.error:on:send():121 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/main.py", line 96, in lifespan
    await init_gestionnaire_structure_medicale_instance()
  File "/home/termux/Documents/ia_sante_ia/app/dependances/injection.py", line 183, in init_gestionnaire_structure_medicale_instance
    _gestionnaire_structure_medicale_instance = GestionnaireStructureMedicale(
                                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: GestionnaireStructureMedicale.__init__() got an unexpected keyword argument 'gestionnaire_contexte'

2025-07-19 14:36:20,567 - ERROR - uvicorn.error:on:startup():59 - Application startup failed. Exiting.
2025-07-19 14:36:30,709 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 14:36:30,864 - INFO - uvicorn.error:server:_serve():84 - Started server process [163007]
2025-07-19 14:36:30,864 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 14:36:30,864 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 14:36:30,865 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 14:36:30,879 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():36 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 14:36:30,879 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 14:36:30,880 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 14:36:30,880 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():41 - IntegrateurLLM initialisé.
2025-07-19 14:36:30,880 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - Gestionnaire de Connaissances initialisé.
2025-07-19 14:36:30,880 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():49 - GestionnaireConnaissances initialisé.
2025-07-19 14:36:30,880 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 14:36:30,880 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():57 - GestionnaireContexte initialisé.
2025-07-19 14:36:30,880 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 14:36:30,881 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():65 - GestionnaireVocal initialisé.
2025-07-19 14:36:30,881 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():29 - GestionnaireAuthentification initialisé.
2025-07-19 14:36:30,881 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():78 - GestionnaireAuthentification initialisé.
2025-07-19 14:36:30,881 - INFO - app.services.moteur_diagnostic:moteur_diagnostic:__init__():38 - Moteur de Diagnostic initialisé.
2025-07-19 14:36:30,881 - INFO - app.dependances.injection:injection:init_moteur_diagnostic_instance():106 - MoteurDiagnostic initialisé.
2025-07-19 14:36:30,881 - INFO - app.services.gestionnaire_patient:gestionnaire_patient:__init__():36 - GestionnairePatient initialisé.
2025-07-19 14:36:30,881 - INFO - app.dependances.injection:injection:init_gestionnaire_patient_instance():137 - GestionnairePatient initialisé.
2025-07-19 14:36:30,882 - INFO - app.services.gestionnaire_medecin:gestionnaire_medecin:__init__():40 - GestionnaireMedecin initialisé.
2025-07-19 14:36:30,882 - INFO - app.dependances.injection:injection:init_gestionnaire_medecin_instance():172 - GestionnaireMedecin initialisé.
2025-07-19 14:36:30,885 - ERROR - uvicorn.error:on:send():121 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/main.py", line 96, in lifespan
    await init_gestionnaire_structure_medicale_instance()
  File "/home/termux/Documents/ia_sante_ia/app/dependances/injection.py", line 183, in init_gestionnaire_structure_medicale_instance
    _gestionnaire_structure_medicale_instance = GestionnaireStructureMedicale(
                                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: GestionnaireStructureMedicale.__init__() got an unexpected keyword argument 'gestionnaire_contexte'

2025-07-19 14:36:30,885 - ERROR - uvicorn.error:on:startup():59 - Application startup failed. Exiting.
2025-07-19 14:37:22,894 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 14:37:23,098 - INFO - uvicorn.error:server:_serve():84 - Started server process [163107]
2025-07-19 14:37:23,099 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 14:37:23,099 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 14:37:23,099 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 14:37:23,110 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():36 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 14:37:23,111 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 14:37:23,111 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 14:37:23,111 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():41 - IntegrateurLLM initialisé.
2025-07-19 14:37:23,112 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - Gestionnaire de Connaissances initialisé.
2025-07-19 14:37:23,112 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():49 - GestionnaireConnaissances initialisé.
2025-07-19 14:37:23,112 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 14:37:23,112 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():57 - GestionnaireContexte initialisé.
2025-07-19 14:37:23,112 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 14:37:23,112 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():65 - GestionnaireVocal initialisé.
2025-07-19 14:37:23,112 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():29 - GestionnaireAuthentification initialisé.
2025-07-19 14:37:23,113 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():78 - GestionnaireAuthentification initialisé.
2025-07-19 14:37:23,113 - INFO - app.services.moteur_diagnostic:moteur_diagnostic:__init__():38 - Moteur de Diagnostic initialisé.
2025-07-19 14:37:23,113 - INFO - app.dependances.injection:injection:init_moteur_diagnostic_instance():106 - MoteurDiagnostic initialisé.
2025-07-19 14:37:23,113 - INFO - app.services.gestionnaire_patient:gestionnaire_patient:__init__():36 - GestionnairePatient initialisé.
2025-07-19 14:37:23,113 - INFO - app.dependances.injection:injection:init_gestionnaire_patient_instance():137 - GestionnairePatient initialisé.
2025-07-19 14:37:23,113 - INFO - app.services.gestionnaire_medecin:gestionnaire_medecin:__init__():40 - GestionnaireMedecin initialisé.
2025-07-19 14:37:23,113 - INFO - app.dependances.injection:injection:init_gestionnaire_medecin_instance():172 - GestionnaireMedecin initialisé.
2025-07-19 14:37:23,116 - ERROR - uvicorn.error:on:send():121 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/main.py", line 96, in lifespan
    await init_gestionnaire_structure_medicale_instance()
  File "/home/termux/Documents/ia_sante_ia/app/dependances/injection.py", line 183, in init_gestionnaire_structure_medicale_instance
    _gestionnaire_structure_medicale_instance = GestionnaireStructureMedicale(
                                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: GestionnaireStructureMedicale.__init__() got an unexpected keyword argument 'gestionnaire_contexte'

2025-07-19 14:37:23,116 - ERROR - uvicorn.error:on:startup():59 - Application startup failed. Exiting.
2025-07-19 14:38:58,616 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 14:38:58,772 - INFO - uvicorn.error:server:_serve():84 - Started server process [163266]
2025-07-19 14:38:58,772 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 14:38:58,773 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 14:38:58,773 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 14:38:58,785 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():36 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 14:38:58,785 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 14:38:58,786 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 14:38:58,786 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():41 - IntegrateurLLM initialisé.
2025-07-19 14:38:58,786 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - Gestionnaire de Connaissances initialisé.
2025-07-19 14:38:58,786 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():49 - GestionnaireConnaissances initialisé.
2025-07-19 14:38:58,786 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 14:38:58,786 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():57 - GestionnaireContexte initialisé.
2025-07-19 14:38:58,786 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 14:38:58,786 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():65 - GestionnaireVocal initialisé.
2025-07-19 14:38:58,786 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():29 - GestionnaireAuthentification initialisé.
2025-07-19 14:38:58,786 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():78 - GestionnaireAuthentification initialisé.
2025-07-19 14:38:58,787 - INFO - app.services.moteur_diagnostic:moteur_diagnostic:__init__():38 - Moteur de Diagnostic initialisé.
2025-07-19 14:38:58,787 - INFO - app.dependances.injection:injection:init_moteur_diagnostic_instance():106 - MoteurDiagnostic initialisé.
2025-07-19 14:38:58,787 - INFO - app.services.gestionnaire_patient:gestionnaire_patient:__init__():36 - GestionnairePatient initialisé.
2025-07-19 14:38:58,787 - INFO - app.dependances.injection:injection:init_gestionnaire_patient_instance():137 - GestionnairePatient initialisé.
2025-07-19 14:38:58,787 - INFO - app.services.gestionnaire_medecin:gestionnaire_medecin:__init__():40 - GestionnaireMedecin initialisé.
2025-07-19 14:38:58,787 - INFO - app.dependances.injection:injection:init_gestionnaire_medecin_instance():172 - GestionnaireMedecin initialisé.
2025-07-19 14:38:58,790 - ERROR - uvicorn.error:on:send():121 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/main.py", line 96, in lifespan
    await init_gestionnaire_structure_medicale_instance()
  File "/home/termux/Documents/ia_sante_ia/app/dependances/injection.py", line 183, in init_gestionnaire_structure_medicale_instance
    _gestionnaire_structure_medicale_instance = GestionnaireStructureMedicale(
                                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: GestionnaireStructureMedicale.__init__() got an unexpected keyword argument 'gestionnaire_contexte'

2025-07-19 14:38:58,790 - ERROR - uvicorn.error:on:startup():59 - Application startup failed. Exiting.
2025-07-19 14:39:31,868 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 14:39:32,027 - INFO - uvicorn.error:server:_serve():84 - Started server process [163387]
2025-07-19 14:39:32,027 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 14:39:32,027 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 14:39:32,027 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 14:39:32,038 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():36 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 14:39:32,039 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 14:39:32,039 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 14:39:32,039 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():41 - IntegrateurLLM initialisé.
2025-07-19 14:39:32,040 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - Gestionnaire de Connaissances initialisé.
2025-07-19 14:39:32,040 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():49 - GestionnaireConnaissances initialisé.
2025-07-19 14:39:32,040 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 14:39:32,040 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():57 - GestionnaireContexte initialisé.
2025-07-19 14:39:32,040 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 14:39:32,040 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():65 - GestionnaireVocal initialisé.
2025-07-19 14:39:32,040 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():29 - GestionnaireAuthentification initialisé.
2025-07-19 14:39:32,040 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():78 - GestionnaireAuthentification initialisé.
2025-07-19 14:39:32,040 - INFO - app.services.moteur_diagnostic:moteur_diagnostic:__init__():38 - Moteur de Diagnostic initialisé.
2025-07-19 14:39:32,040 - INFO - app.dependances.injection:injection:init_moteur_diagnostic_instance():106 - MoteurDiagnostic initialisé.
2025-07-19 14:39:32,041 - INFO - app.services.gestionnaire_patient:gestionnaire_patient:__init__():36 - GestionnairePatient initialisé.
2025-07-19 14:39:32,041 - INFO - app.dependances.injection:injection:init_gestionnaire_patient_instance():137 - GestionnairePatient initialisé.
2025-07-19 14:39:32,041 - INFO - app.services.gestionnaire_medecin:gestionnaire_medecin:__init__():40 - GestionnaireMedecin initialisé.
2025-07-19 14:39:32,041 - INFO - app.dependances.injection:injection:init_gestionnaire_medecin_instance():172 - GestionnaireMedecin initialisé.
2025-07-19 14:39:32,043 - ERROR - uvicorn.error:on:send():121 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/main.py", line 96, in lifespan
    await init_gestionnaire_structure_medicale_instance()
  File "/home/termux/Documents/ia_sante_ia/app/dependances/injection.py", line 183, in init_gestionnaire_structure_medicale_instance
    _gestionnaire_structure_medicale_instance = GestionnaireStructureMedicale(
                                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: GestionnaireStructureMedicale.__init__() got an unexpected keyword argument 'gestionnaire_contexte'

2025-07-19 14:39:32,044 - ERROR - uvicorn.error:on:startup():59 - Application startup failed. Exiting.
2025-07-19 14:39:33,868 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 14:39:34,067 - INFO - uvicorn.error:server:_serve():84 - Started server process [163398]
2025-07-19 14:39:34,067 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 14:39:34,068 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 14:39:34,068 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 14:39:34,081 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():36 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 14:39:34,082 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 14:39:34,082 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 14:39:34,083 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():41 - IntegrateurLLM initialisé.
2025-07-19 14:39:34,083 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - Gestionnaire de Connaissances initialisé.
2025-07-19 14:39:34,083 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():49 - GestionnaireConnaissances initialisé.
2025-07-19 14:39:34,083 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 14:39:34,083 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():57 - GestionnaireContexte initialisé.
2025-07-19 14:39:34,084 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 14:39:34,084 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():65 - GestionnaireVocal initialisé.
2025-07-19 14:39:34,084 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():29 - GestionnaireAuthentification initialisé.
2025-07-19 14:39:34,084 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():78 - GestionnaireAuthentification initialisé.
2025-07-19 14:39:34,084 - INFO - app.services.moteur_diagnostic:moteur_diagnostic:__init__():38 - Moteur de Diagnostic initialisé.
2025-07-19 14:39:34,085 - INFO - app.dependances.injection:injection:init_moteur_diagnostic_instance():106 - MoteurDiagnostic initialisé.
2025-07-19 14:39:34,085 - INFO - app.services.gestionnaire_patient:gestionnaire_patient:__init__():36 - GestionnairePatient initialisé.
2025-07-19 14:39:34,085 - INFO - app.dependances.injection:injection:init_gestionnaire_patient_instance():137 - GestionnairePatient initialisé.
2025-07-19 14:39:34,085 - INFO - app.services.gestionnaire_medecin:gestionnaire_medecin:__init__():40 - GestionnaireMedecin initialisé.
2025-07-19 14:39:34,085 - INFO - app.dependances.injection:injection:init_gestionnaire_medecin_instance():172 - GestionnaireMedecin initialisé.
2025-07-19 14:39:34,089 - ERROR - uvicorn.error:on:send():121 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/main.py", line 96, in lifespan
    await init_gestionnaire_structure_medicale_instance()
  File "/home/termux/Documents/ia_sante_ia/app/dependances/injection.py", line 183, in init_gestionnaire_structure_medicale_instance
    _gestionnaire_structure_medicale_instance = GestionnaireStructureMedicale(
                                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: GestionnaireStructureMedicale.__init__() got an unexpected keyword argument 'gestionnaire_contexte'

2025-07-19 14:39:34,090 - ERROR - uvicorn.error:on:startup():59 - Application startup failed. Exiting.
2025-07-19 14:39:45,814 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 14:39:45,971 - INFO - uvicorn.error:server:_serve():84 - Started server process [163425]
2025-07-19 14:39:45,972 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 14:39:45,972 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 14:39:45,973 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 14:39:45,987 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():36 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 14:39:45,988 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 14:39:45,988 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 14:39:45,989 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():41 - IntegrateurLLM initialisé.
2025-07-19 14:39:45,989 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - Gestionnaire de Connaissances initialisé.
2025-07-19 14:39:45,989 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():49 - GestionnaireConnaissances initialisé.
2025-07-19 14:39:45,989 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 14:39:45,989 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():57 - GestionnaireContexte initialisé.
2025-07-19 14:39:45,989 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 14:39:45,990 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():65 - GestionnaireVocal initialisé.
2025-07-19 14:39:45,990 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():29 - GestionnaireAuthentification initialisé.
2025-07-19 14:39:45,990 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():78 - GestionnaireAuthentification initialisé.
2025-07-19 14:39:45,990 - INFO - app.services.moteur_diagnostic:moteur_diagnostic:__init__():38 - Moteur de Diagnostic initialisé.
2025-07-19 14:39:45,990 - INFO - app.dependances.injection:injection:init_moteur_diagnostic_instance():106 - MoteurDiagnostic initialisé.
2025-07-19 14:39:45,990 - INFO - app.services.gestionnaire_patient:gestionnaire_patient:__init__():36 - GestionnairePatient initialisé.
2025-07-19 14:39:45,991 - INFO - app.dependances.injection:injection:init_gestionnaire_patient_instance():137 - GestionnairePatient initialisé.
2025-07-19 14:39:45,991 - INFO - app.services.gestionnaire_medecin:gestionnaire_medecin:__init__():40 - GestionnaireMedecin initialisé.
2025-07-19 14:39:45,991 - INFO - app.dependances.injection:injection:init_gestionnaire_medecin_instance():172 - GestionnaireMedecin initialisé.
2025-07-19 14:39:45,994 - ERROR - uvicorn.error:on:send():121 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/main.py", line 96, in lifespan
    await init_gestionnaire_structure_medicale_instance()
  File "/home/termux/Documents/ia_sante_ia/app/dependances/injection.py", line 183, in init_gestionnaire_structure_medicale_instance
    _gestionnaire_structure_medicale_instance = GestionnaireStructureMedicale(
                                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: GestionnaireStructureMedicale.__init__() got an unexpected keyword argument 'gestionnaire_contexte'

2025-07-19 14:39:45,995 - ERROR - uvicorn.error:on:startup():59 - Application startup failed. Exiting.
2025-07-19 14:41:30,463 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 14:41:30,620 - INFO - uvicorn.error:server:_serve():84 - Started server process [163645]
2025-07-19 14:41:30,620 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 14:41:30,621 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 14:41:30,621 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 14:41:30,636 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():36 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 14:41:30,637 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 14:41:30,637 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 14:41:30,638 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():41 - IntegrateurLLM initialisé.
2025-07-19 14:41:30,638 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - Gestionnaire de Connaissances initialisé.
2025-07-19 14:41:30,638 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():49 - GestionnaireConnaissances initialisé.
2025-07-19 14:41:30,638 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 14:41:30,638 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():57 - GestionnaireContexte initialisé.
2025-07-19 14:41:30,638 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 14:41:30,638 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():65 - GestionnaireVocal initialisé.
2025-07-19 14:41:30,639 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():29 - GestionnaireAuthentification initialisé.
2025-07-19 14:41:30,639 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():78 - GestionnaireAuthentification initialisé.
2025-07-19 14:41:30,639 - INFO - app.services.moteur_diagnostic:moteur_diagnostic:__init__():38 - Moteur de Diagnostic initialisé.
2025-07-19 14:41:30,639 - INFO - app.dependances.injection:injection:init_moteur_diagnostic_instance():106 - MoteurDiagnostic initialisé.
2025-07-19 14:41:30,639 - INFO - app.services.gestionnaire_patient:gestionnaire_patient:__init__():36 - GestionnairePatient initialisé.
2025-07-19 14:41:30,639 - INFO - app.dependances.injection:injection:init_gestionnaire_patient_instance():137 - GestionnairePatient initialisé.
2025-07-19 14:41:30,640 - INFO - app.services.gestionnaire_medecin:gestionnaire_medecin:__init__():40 - GestionnaireMedecin initialisé.
2025-07-19 14:41:30,640 - INFO - app.dependances.injection:injection:init_gestionnaire_medecin_instance():172 - GestionnaireMedecin initialisé.
2025-07-19 14:41:30,642 - ERROR - uvicorn.error:on:send():121 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/main.py", line 96, in lifespan
    await init_gestionnaire_structure_medicale_instance()
  File "/home/termux/Documents/ia_sante_ia/app/dependances/injection.py", line 183, in init_gestionnaire_structure_medicale_instance
    _gestionnaire_structure_medicale_instance = GestionnaireStructureMedicale(
                                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: GestionnaireStructureMedicale.__init__() got an unexpected keyword argument 'gestionnaire_contexte'

2025-07-19 14:41:30,643 - ERROR - uvicorn.error:on:startup():59 - Application startup failed. Exiting.
2025-07-19 14:55:35,313 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 14:55:35,529 - INFO - uvicorn.error:server:_serve():84 - Started server process [165765]
2025-07-19 14:55:35,529 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 14:55:35,530 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 14:55:35,530 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 14:55:35,543 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():36 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 14:55:35,544 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 14:55:35,544 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 14:55:35,544 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():41 - IntegrateurLLM initialisé.
2025-07-19 14:55:35,544 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - Gestionnaire de Connaissances initialisé.
2025-07-19 14:55:35,545 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():49 - GestionnaireConnaissances initialisé.
2025-07-19 14:55:35,545 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 14:55:35,545 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():57 - GestionnaireContexte initialisé.
2025-07-19 14:55:35,545 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 14:55:35,545 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():65 - GestionnaireVocal initialisé.
2025-07-19 14:55:35,545 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():29 - GestionnaireAuthentification initialisé.
2025-07-19 14:55:35,546 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():78 - GestionnaireAuthentification initialisé.
2025-07-19 14:55:35,546 - INFO - app.services.moteur_diagnostic:moteur_diagnostic:__init__():38 - Moteur de Diagnostic initialisé.
2025-07-19 14:55:35,546 - INFO - app.dependances.injection:injection:init_moteur_diagnostic_instance():106 - MoteurDiagnostic initialisé.
2025-07-19 14:55:35,546 - INFO - app.services.gestionnaire_patient:gestionnaire_patient:__init__():36 - GestionnairePatient initialisé.
2025-07-19 14:55:35,546 - INFO - app.dependances.injection:injection:init_gestionnaire_patient_instance():137 - GestionnairePatient initialisé.
2025-07-19 14:55:35,546 - INFO - app.services.gestionnaire_medecin:gestionnaire_medecin:__init__():40 - GestionnaireMedecin initialisé.
2025-07-19 14:55:35,547 - INFO - app.dependances.injection:injection:init_gestionnaire_medecin_instance():172 - GestionnaireMedecin initialisé.
2025-07-19 14:55:35,547 - INFO - app.services.gestionnaire_structure_medicale:gestionnaire_structure_medicale:__init__():33 - GestionnaireStructureMedicale initialisé.
2025-07-19 14:55:35,547 - INFO - app.dependances.injection:injection:init_gestionnaire_structure_medicale_instance():187 - GestionnaireStructureMedicale initialisé.
2025-07-19 14:55:35,550 - ERROR - uvicorn.error:on:send():121 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/main.py", line 97, in lifespan
    await init_gestionnaire_rendezvous_instance()
  File "/home/termux/Documents/ia_sante_ia/app/dependances/injection.py", line 196, in init_gestionnaire_rendezvous_instance
    _gestionnaire_rendezvous_instance = GestionnaireRendezvous(
                                        ^^^^^^^^^^^^^^^^^^^^^^^
TypeError: GestionnaireRendezvous.__init__() got an unexpected keyword argument 'gestionnaire_contexte'

2025-07-19 14:55:35,551 - ERROR - uvicorn.error:on:startup():59 - Application startup failed. Exiting.
2025-07-19 14:56:17,391 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 14:56:17,545 - INFO - uvicorn.error:server:_serve():84 - Started server process [165866]
2025-07-19 14:56:17,546 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 14:56:17,546 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 14:56:17,546 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 14:56:17,560 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():36 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 14:56:17,561 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 14:56:17,562 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 14:56:17,562 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():41 - IntegrateurLLM initialisé.
2025-07-19 14:56:17,562 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - Gestionnaire de Connaissances initialisé.
2025-07-19 14:56:17,562 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():49 - GestionnaireConnaissances initialisé.
2025-07-19 14:56:17,562 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 14:56:17,563 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():57 - GestionnaireContexte initialisé.
2025-07-19 14:56:17,563 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 14:56:17,563 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():65 - GestionnaireVocal initialisé.
2025-07-19 14:56:17,563 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():29 - GestionnaireAuthentification initialisé.
2025-07-19 14:56:17,563 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():78 - GestionnaireAuthentification initialisé.
2025-07-19 14:56:17,563 - INFO - app.services.moteur_diagnostic:moteur_diagnostic:__init__():38 - Moteur de Diagnostic initialisé.
2025-07-19 14:56:17,564 - INFO - app.dependances.injection:injection:init_moteur_diagnostic_instance():106 - MoteurDiagnostic initialisé.
2025-07-19 14:56:17,564 - INFO - app.services.gestionnaire_patient:gestionnaire_patient:__init__():36 - GestionnairePatient initialisé.
2025-07-19 14:56:17,564 - INFO - app.dependances.injection:injection:init_gestionnaire_patient_instance():137 - GestionnairePatient initialisé.
2025-07-19 14:56:17,564 - INFO - app.services.gestionnaire_medecin:gestionnaire_medecin:__init__():40 - GestionnaireMedecin initialisé.
2025-07-19 14:56:17,564 - INFO - app.dependances.injection:injection:init_gestionnaire_medecin_instance():172 - GestionnaireMedecin initialisé.
2025-07-19 14:56:17,564 - INFO - app.services.gestionnaire_structure_medicale:gestionnaire_structure_medicale:__init__():35 - GestionnaireStructureMedicale initialisé.
2025-07-19 14:56:17,565 - INFO - app.dependances.injection:injection:init_gestionnaire_structure_medicale_instance():187 - GestionnaireStructureMedicale initialisé.
2025-07-19 14:56:17,568 - ERROR - uvicorn.error:on:send():121 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/main.py", line 97, in lifespan
    await init_gestionnaire_rendezvous_instance()
  File "/home/termux/Documents/ia_sante_ia/app/dependances/injection.py", line 196, in init_gestionnaire_rendezvous_instance
    _gestionnaire_rendezvous_instance = GestionnaireRendezvous(
                                        ^^^^^^^^^^^^^^^^^^^^^^^
TypeError: GestionnaireRendezvous.__init__() got an unexpected keyword argument 'gestionnaire_contexte'

2025-07-19 14:56:17,569 - ERROR - uvicorn.error:on:startup():59 - Application startup failed. Exiting.
2025-07-19 14:57:03,532 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 14:57:03,691 - INFO - uvicorn.error:server:_serve():84 - Started server process [165951]
2025-07-19 14:57:03,691 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 14:57:03,691 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 14:57:03,692 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 14:57:03,707 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():36 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 14:57:03,708 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 14:57:03,708 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 14:57:03,708 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():41 - IntegrateurLLM initialisé.
2025-07-19 14:57:03,709 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - Gestionnaire de Connaissances initialisé.
2025-07-19 14:57:03,709 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():49 - GestionnaireConnaissances initialisé.
2025-07-19 14:57:03,709 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 14:57:03,709 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():57 - GestionnaireContexte initialisé.
2025-07-19 14:57:03,709 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 14:57:03,709 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():65 - GestionnaireVocal initialisé.
2025-07-19 14:57:03,710 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():29 - GestionnaireAuthentification initialisé.
2025-07-19 14:57:03,710 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():78 - GestionnaireAuthentification initialisé.
2025-07-19 14:57:03,710 - INFO - app.services.moteur_diagnostic:moteur_diagnostic:__init__():38 - Moteur de Diagnostic initialisé.
2025-07-19 14:57:03,710 - INFO - app.dependances.injection:injection:init_moteur_diagnostic_instance():106 - MoteurDiagnostic initialisé.
2025-07-19 14:57:03,710 - INFO - app.services.gestionnaire_patient:gestionnaire_patient:__init__():36 - GestionnairePatient initialisé.
2025-07-19 14:57:03,710 - INFO - app.dependances.injection:injection:init_gestionnaire_patient_instance():137 - GestionnairePatient initialisé.
2025-07-19 14:57:03,711 - INFO - app.services.gestionnaire_medecin:gestionnaire_medecin:__init__():40 - GestionnaireMedecin initialisé.
2025-07-19 14:57:03,711 - INFO - app.dependances.injection:injection:init_gestionnaire_medecin_instance():172 - GestionnaireMedecin initialisé.
2025-07-19 14:57:03,711 - INFO - app.services.gestionnaire_structure_medicale:gestionnaire_structure_medicale:__init__():35 - GestionnaireStructureMedicale initialisé.
2025-07-19 14:57:03,711 - INFO - app.dependances.injection:injection:init_gestionnaire_structure_medicale_instance():187 - GestionnaireStructureMedicale initialisé.
2025-07-19 14:57:03,714 - ERROR - uvicorn.error:on:send():121 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/main.py", line 97, in lifespan
    await init_gestionnaire_rendezvous_instance()
  File "/home/termux/Documents/ia_sante_ia/app/dependances/injection.py", line 196, in init_gestionnaire_rendezvous_instance
    _gestionnaire_rendezvous_instance = GestionnaireRendezvous(
                                        ^^^^^^^^^^^^^^^^^^^^^^^
TypeError: GestionnaireRendezvous.__init__() got an unexpected keyword argument 'gestionnaire_contexte'

2025-07-19 14:57:03,714 - ERROR - uvicorn.error:on:startup():59 - Application startup failed. Exiting.
2025-07-19 14:58:39,189 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 14:58:39,346 - INFO - uvicorn.error:server:_serve():84 - Started server process [166145]
2025-07-19 14:58:39,346 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 14:58:39,347 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 14:58:39,347 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 14:58:39,358 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():36 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 14:58:39,359 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 14:58:39,359 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 14:58:39,359 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():41 - IntegrateurLLM initialisé.
2025-07-19 14:58:39,360 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - Gestionnaire de Connaissances initialisé.
2025-07-19 14:58:39,360 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():49 - GestionnaireConnaissances initialisé.
2025-07-19 14:58:39,360 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 14:58:39,360 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():57 - GestionnaireContexte initialisé.
2025-07-19 14:58:39,360 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 14:58:39,360 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():65 - GestionnaireVocal initialisé.
2025-07-19 14:58:39,361 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():29 - GestionnaireAuthentification initialisé.
2025-07-19 14:58:39,361 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():78 - GestionnaireAuthentification initialisé.
2025-07-19 14:58:39,361 - INFO - app.services.moteur_diagnostic:moteur_diagnostic:__init__():38 - Moteur de Diagnostic initialisé.
2025-07-19 14:58:39,361 - INFO - app.dependances.injection:injection:init_moteur_diagnostic_instance():106 - MoteurDiagnostic initialisé.
2025-07-19 14:58:39,361 - INFO - app.services.gestionnaire_patient:gestionnaire_patient:__init__():36 - GestionnairePatient initialisé.
2025-07-19 14:58:39,361 - INFO - app.dependances.injection:injection:init_gestionnaire_patient_instance():137 - GestionnairePatient initialisé.
2025-07-19 14:58:39,362 - INFO - app.services.gestionnaire_medecin:gestionnaire_medecin:__init__():40 - GestionnaireMedecin initialisé.
2025-07-19 14:58:39,362 - INFO - app.dependances.injection:injection:init_gestionnaire_medecin_instance():172 - GestionnaireMedecin initialisé.
2025-07-19 14:58:39,362 - INFO - app.services.gestionnaire_structure_medicale:gestionnaire_structure_medicale:__init__():35 - GestionnaireStructureMedicale initialisé.
2025-07-19 14:58:39,362 - INFO - app.dependances.injection:injection:init_gestionnaire_structure_medicale_instance():187 - GestionnaireStructureMedicale initialisé.
2025-07-19 14:58:39,366 - ERROR - uvicorn.error:on:send():121 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/main.py", line 97, in lifespan
    await init_gestionnaire_rendezvous_instance()
  File "/home/termux/Documents/ia_sante_ia/app/dependances/injection.py", line 196, in init_gestionnaire_rendezvous_instance
    _gestionnaire_rendezvous_instance = GestionnaireRendezvous(
                                        ^^^^^^^^^^^^^^^^^^^^^^^
TypeError: GestionnaireRendezvous.__init__() got an unexpected keyword argument 'gestionnaire_contexte'

2025-07-19 14:58:39,366 - ERROR - uvicorn.error:on:startup():59 - Application startup failed. Exiting.
2025-07-19 14:59:02,037 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 14:59:02,220 - INFO - uvicorn.error:server:_serve():84 - Started server process [166200]
2025-07-19 14:59:02,220 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 14:59:02,221 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 14:59:02,221 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 14:59:02,234 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():36 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 14:59:02,235 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 14:59:02,235 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 14:59:02,235 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():41 - IntegrateurLLM initialisé.
2025-07-19 14:59:02,236 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - Gestionnaire de Connaissances initialisé.
2025-07-19 14:59:02,236 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():49 - GestionnaireConnaissances initialisé.
2025-07-19 14:59:02,236 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 14:59:02,236 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():57 - GestionnaireContexte initialisé.
2025-07-19 14:59:02,236 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 14:59:02,236 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():65 - GestionnaireVocal initialisé.
2025-07-19 14:59:02,236 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():29 - GestionnaireAuthentification initialisé.
2025-07-19 14:59:02,236 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():78 - GestionnaireAuthentification initialisé.
2025-07-19 14:59:02,236 - INFO - app.services.moteur_diagnostic:moteur_diagnostic:__init__():38 - Moteur de Diagnostic initialisé.
2025-07-19 14:59:02,237 - INFO - app.dependances.injection:injection:init_moteur_diagnostic_instance():106 - MoteurDiagnostic initialisé.
2025-07-19 14:59:02,237 - INFO - app.services.gestionnaire_patient:gestionnaire_patient:__init__():36 - GestionnairePatient initialisé.
2025-07-19 14:59:02,237 - INFO - app.dependances.injection:injection:init_gestionnaire_patient_instance():137 - GestionnairePatient initialisé.
2025-07-19 14:59:02,237 - INFO - app.services.gestionnaire_medecin:gestionnaire_medecin:__init__():40 - GestionnaireMedecin initialisé.
2025-07-19 14:59:02,237 - INFO - app.dependances.injection:injection:init_gestionnaire_medecin_instance():172 - GestionnaireMedecin initialisé.
2025-07-19 14:59:02,237 - INFO - app.services.gestionnaire_structure_medicale:gestionnaire_structure_medicale:__init__():35 - GestionnaireStructureMedicale initialisé.
2025-07-19 14:59:02,237 - INFO - app.dependances.injection:injection:init_gestionnaire_structure_medicale_instance():187 - GestionnaireStructureMedicale initialisé.
2025-07-19 14:59:02,240 - ERROR - uvicorn.error:on:send():121 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/main.py", line 97, in lifespan
    await init_gestionnaire_rendezvous_instance()
  File "/home/termux/Documents/ia_sante_ia/app/dependances/injection.py", line 196, in init_gestionnaire_rendezvous_instance
    _gestionnaire_rendezvous_instance = GestionnaireRendezvous(
                                        ^^^^^^^^^^^^^^^^^^^^^^^
TypeError: GestionnaireRendezvous.__init__() got an unexpected keyword argument 'gestionnaire_contexte'

2025-07-19 14:59:02,240 - ERROR - uvicorn.error:on:startup():59 - Application startup failed. Exiting.
2025-07-19 14:59:04,012 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 14:59:04,159 - INFO - uvicorn.error:server:_serve():84 - Started server process [166212]
2025-07-19 14:59:04,160 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 14:59:04,160 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 14:59:04,160 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 14:59:04,171 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():36 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 14:59:04,172 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 14:59:04,172 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 14:59:04,173 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():41 - IntegrateurLLM initialisé.
2025-07-19 14:59:04,173 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - Gestionnaire de Connaissances initialisé.
2025-07-19 14:59:04,173 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():49 - GestionnaireConnaissances initialisé.
2025-07-19 14:59:04,173 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 14:59:04,173 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():57 - GestionnaireContexte initialisé.
2025-07-19 14:59:04,173 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 14:59:04,173 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():65 - GestionnaireVocal initialisé.
2025-07-19 14:59:04,174 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():29 - GestionnaireAuthentification initialisé.
2025-07-19 14:59:04,174 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():78 - GestionnaireAuthentification initialisé.
2025-07-19 14:59:04,174 - INFO - app.services.moteur_diagnostic:moteur_diagnostic:__init__():38 - Moteur de Diagnostic initialisé.
2025-07-19 14:59:04,174 - INFO - app.dependances.injection:injection:init_moteur_diagnostic_instance():106 - MoteurDiagnostic initialisé.
2025-07-19 14:59:04,174 - INFO - app.services.gestionnaire_patient:gestionnaire_patient:__init__():36 - GestionnairePatient initialisé.
2025-07-19 14:59:04,174 - INFO - app.dependances.injection:injection:init_gestionnaire_patient_instance():137 - GestionnairePatient initialisé.
2025-07-19 14:59:04,174 - INFO - app.services.gestionnaire_medecin:gestionnaire_medecin:__init__():40 - GestionnaireMedecin initialisé.
2025-07-19 14:59:04,174 - INFO - app.dependances.injection:injection:init_gestionnaire_medecin_instance():172 - GestionnaireMedecin initialisé.
2025-07-19 14:59:04,174 - INFO - app.services.gestionnaire_structure_medicale:gestionnaire_structure_medicale:__init__():35 - GestionnaireStructureMedicale initialisé.
2025-07-19 14:59:04,175 - INFO - app.dependances.injection:injection:init_gestionnaire_structure_medicale_instance():187 - GestionnaireStructureMedicale initialisé.
2025-07-19 14:59:04,178 - ERROR - uvicorn.error:on:send():121 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/main.py", line 97, in lifespan
    await init_gestionnaire_rendezvous_instance()
  File "/home/termux/Documents/ia_sante_ia/app/dependances/injection.py", line 196, in init_gestionnaire_rendezvous_instance
    _gestionnaire_rendezvous_instance = GestionnaireRendezvous(
                                        ^^^^^^^^^^^^^^^^^^^^^^^
TypeError: GestionnaireRendezvous.__init__() got an unexpected keyword argument 'gestionnaire_contexte'

2025-07-19 14:59:04,178 - ERROR - uvicorn.error:on:startup():59 - Application startup failed. Exiting.
2025-07-19 14:59:33,348 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 14:59:33,497 - INFO - uvicorn.error:server:_serve():84 - Started server process [166270]
2025-07-19 14:59:33,497 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 14:59:33,497 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 14:59:33,498 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 14:59:33,508 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():36 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 14:59:33,508 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 14:59:33,509 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 14:59:33,509 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():41 - IntegrateurLLM initialisé.
2025-07-19 14:59:33,509 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - Gestionnaire de Connaissances initialisé.
2025-07-19 14:59:33,509 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():49 - GestionnaireConnaissances initialisé.
2025-07-19 14:59:33,509 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 14:59:33,509 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():57 - GestionnaireContexte initialisé.
2025-07-19 14:59:33,509 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 14:59:33,509 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():65 - GestionnaireVocal initialisé.
2025-07-19 14:59:33,510 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():29 - GestionnaireAuthentification initialisé.
2025-07-19 14:59:33,510 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():78 - GestionnaireAuthentification initialisé.
2025-07-19 14:59:33,510 - INFO - app.services.moteur_diagnostic:moteur_diagnostic:__init__():38 - Moteur de Diagnostic initialisé.
2025-07-19 14:59:33,510 - INFO - app.dependances.injection:injection:init_moteur_diagnostic_instance():106 - MoteurDiagnostic initialisé.
2025-07-19 14:59:33,510 - INFO - app.services.gestionnaire_patient:gestionnaire_patient:__init__():36 - GestionnairePatient initialisé.
2025-07-19 14:59:33,510 - INFO - app.dependances.injection:injection:init_gestionnaire_patient_instance():137 - GestionnairePatient initialisé.
2025-07-19 14:59:33,510 - INFO - app.services.gestionnaire_medecin:gestionnaire_medecin:__init__():40 - GestionnaireMedecin initialisé.
2025-07-19 14:59:33,511 - INFO - app.dependances.injection:injection:init_gestionnaire_medecin_instance():172 - GestionnaireMedecin initialisé.
2025-07-19 14:59:33,511 - INFO - app.services.gestionnaire_structure_medicale:gestionnaire_structure_medicale:__init__():33 - GestionnaireStructureMedicale initialisé.
2025-07-19 14:59:33,511 - INFO - app.dependances.injection:injection:init_gestionnaire_structure_medicale_instance():187 - GestionnaireStructureMedicale initialisé.
2025-07-19 14:59:33,514 - ERROR - uvicorn.error:on:send():121 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/main.py", line 97, in lifespan
    await init_gestionnaire_rendezvous_instance()
  File "/home/termux/Documents/ia_sante_ia/app/dependances/injection.py", line 196, in init_gestionnaire_rendezvous_instance
    _gestionnaire_rendezvous_instance = GestionnaireRendezvous(
                                        ^^^^^^^^^^^^^^^^^^^^^^^
TypeError: GestionnaireRendezvous.__init__() got an unexpected keyword argument 'gestionnaire_contexte'

2025-07-19 14:59:33,514 - ERROR - uvicorn.error:on:startup():59 - Application startup failed. Exiting.
2025-07-19 14:59:35,350 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 14:59:35,506 - INFO - uvicorn.error:server:_serve():84 - Started server process [166284]
2025-07-19 14:59:35,506 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 14:59:35,507 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 14:59:35,507 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 14:59:35,518 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():36 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 14:59:35,519 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 14:59:35,519 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 14:59:35,519 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():41 - IntegrateurLLM initialisé.
2025-07-19 14:59:35,519 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - Gestionnaire de Connaissances initialisé.
2025-07-19 14:59:35,519 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():49 - GestionnaireConnaissances initialisé.
2025-07-19 14:59:35,519 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 14:59:35,520 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():57 - GestionnaireContexte initialisé.
2025-07-19 14:59:35,520 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 14:59:35,520 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():65 - GestionnaireVocal initialisé.
2025-07-19 14:59:35,520 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():29 - GestionnaireAuthentification initialisé.
2025-07-19 14:59:35,520 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():78 - GestionnaireAuthentification initialisé.
2025-07-19 14:59:35,520 - INFO - app.services.moteur_diagnostic:moteur_diagnostic:__init__():38 - Moteur de Diagnostic initialisé.
2025-07-19 14:59:35,520 - INFO - app.dependances.injection:injection:init_moteur_diagnostic_instance():106 - MoteurDiagnostic initialisé.
2025-07-19 14:59:35,520 - INFO - app.services.gestionnaire_patient:gestionnaire_patient:__init__():36 - GestionnairePatient initialisé.
2025-07-19 14:59:35,520 - INFO - app.dependances.injection:injection:init_gestionnaire_patient_instance():137 - GestionnairePatient initialisé.
2025-07-19 14:59:35,520 - INFO - app.services.gestionnaire_medecin:gestionnaire_medecin:__init__():40 - GestionnaireMedecin initialisé.
2025-07-19 14:59:35,520 - INFO - app.dependances.injection:injection:init_gestionnaire_medecin_instance():172 - GestionnaireMedecin initialisé.
2025-07-19 14:59:35,521 - INFO - app.services.gestionnaire_structure_medicale:gestionnaire_structure_medicale:__init__():33 - GestionnaireStructureMedicale initialisé.
2025-07-19 14:59:35,521 - INFO - app.dependances.injection:injection:init_gestionnaire_structure_medicale_instance():187 - GestionnaireStructureMedicale initialisé.
2025-07-19 14:59:35,523 - ERROR - uvicorn.error:on:send():121 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/main.py", line 97, in lifespan
    await init_gestionnaire_rendezvous_instance()
  File "/home/termux/Documents/ia_sante_ia/app/dependances/injection.py", line 196, in init_gestionnaire_rendezvous_instance
    _gestionnaire_rendezvous_instance = GestionnaireRendezvous(
                                        ^^^^^^^^^^^^^^^^^^^^^^^
TypeError: GestionnaireRendezvous.__init__() got an unexpected keyword argument 'gestionnaire_contexte'

2025-07-19 14:59:35,524 - ERROR - uvicorn.error:on:startup():59 - Application startup failed. Exiting.
2025-07-19 14:59:41,194 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 14:59:41,391 - INFO - uvicorn.error:server:_serve():84 - Started server process [166296]
2025-07-19 14:59:41,391 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 14:59:41,392 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 14:59:41,392 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 14:59:41,403 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():36 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 14:59:41,404 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 14:59:41,404 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 14:59:41,404 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():41 - IntegrateurLLM initialisé.
2025-07-19 14:59:41,404 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - Gestionnaire de Connaissances initialisé.
2025-07-19 14:59:41,405 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():49 - GestionnaireConnaissances initialisé.
2025-07-19 14:59:41,405 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 14:59:41,405 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():57 - GestionnaireContexte initialisé.
2025-07-19 14:59:41,405 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 14:59:41,405 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():65 - GestionnaireVocal initialisé.
2025-07-19 14:59:41,405 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():29 - GestionnaireAuthentification initialisé.
2025-07-19 14:59:41,405 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():78 - GestionnaireAuthentification initialisé.
2025-07-19 14:59:41,405 - INFO - app.services.moteur_diagnostic:moteur_diagnostic:__init__():38 - Moteur de Diagnostic initialisé.
2025-07-19 14:59:41,405 - INFO - app.dependances.injection:injection:init_moteur_diagnostic_instance():106 - MoteurDiagnostic initialisé.
2025-07-19 14:59:41,406 - INFO - app.services.gestionnaire_patient:gestionnaire_patient:__init__():36 - GestionnairePatient initialisé.
2025-07-19 14:59:41,406 - INFO - app.dependances.injection:injection:init_gestionnaire_patient_instance():137 - GestionnairePatient initialisé.
2025-07-19 14:59:41,406 - INFO - app.services.gestionnaire_medecin:gestionnaire_medecin:__init__():40 - GestionnaireMedecin initialisé.
2025-07-19 14:59:41,406 - INFO - app.dependances.injection:injection:init_gestionnaire_medecin_instance():172 - GestionnaireMedecin initialisé.
2025-07-19 14:59:41,406 - INFO - app.services.gestionnaire_structure_medicale:gestionnaire_structure_medicale:__init__():35 - GestionnaireStructureMedicale initialisé.
2025-07-19 14:59:41,406 - INFO - app.dependances.injection:injection:init_gestionnaire_structure_medicale_instance():187 - GestionnaireStructureMedicale initialisé.
2025-07-19 14:59:41,409 - ERROR - uvicorn.error:on:send():121 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/main.py", line 97, in lifespan
    await init_gestionnaire_rendezvous_instance()
  File "/home/termux/Documents/ia_sante_ia/app/dependances/injection.py", line 196, in init_gestionnaire_rendezvous_instance
    _gestionnaire_rendezvous_instance = GestionnaireRendezvous(
                                        ^^^^^^^^^^^^^^^^^^^^^^^
TypeError: GestionnaireRendezvous.__init__() got an unexpected keyword argument 'gestionnaire_contexte'

2025-07-19 14:59:41,409 - ERROR - uvicorn.error:on:startup():59 - Application startup failed. Exiting.
2025-07-19 14:59:57,139 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 14:59:57,293 - INFO - uvicorn.error:server:_serve():84 - Started server process [166341]
2025-07-19 14:59:57,293 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 14:59:57,293 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 14:59:57,294 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 14:59:57,305 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():36 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 14:59:57,306 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 14:59:57,306 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 14:59:57,306 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():41 - IntegrateurLLM initialisé.
2025-07-19 14:59:57,306 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - Gestionnaire de Connaissances initialisé.
2025-07-19 14:59:57,306 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():49 - GestionnaireConnaissances initialisé.
2025-07-19 14:59:57,307 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 14:59:57,307 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():57 - GestionnaireContexte initialisé.
2025-07-19 14:59:57,307 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 14:59:57,307 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():65 - GestionnaireVocal initialisé.
2025-07-19 14:59:57,307 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():29 - GestionnaireAuthentification initialisé.
2025-07-19 14:59:57,307 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():78 - GestionnaireAuthentification initialisé.
2025-07-19 14:59:57,307 - INFO - app.services.moteur_diagnostic:moteur_diagnostic:__init__():38 - Moteur de Diagnostic initialisé.
2025-07-19 14:59:57,307 - INFO - app.dependances.injection:injection:init_moteur_diagnostic_instance():106 - MoteurDiagnostic initialisé.
2025-07-19 14:59:57,308 - INFO - app.services.gestionnaire_patient:gestionnaire_patient:__init__():36 - GestionnairePatient initialisé.
2025-07-19 14:59:57,308 - INFO - app.dependances.injection:injection:init_gestionnaire_patient_instance():137 - GestionnairePatient initialisé.
2025-07-19 14:59:57,308 - INFO - app.services.gestionnaire_medecin:gestionnaire_medecin:__init__():40 - GestionnaireMedecin initialisé.
2025-07-19 14:59:57,308 - INFO - app.dependances.injection:injection:init_gestionnaire_medecin_instance():172 - GestionnaireMedecin initialisé.
2025-07-19 14:59:57,308 - INFO - app.services.gestionnaire_structure_medicale:gestionnaire_structure_medicale:__init__():35 - GestionnaireStructureMedicale initialisé.
2025-07-19 14:59:57,308 - INFO - app.dependances.injection:injection:init_gestionnaire_structure_medicale_instance():187 - GestionnaireStructureMedicale initialisé.
2025-07-19 14:59:57,311 - ERROR - uvicorn.error:on:send():121 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/main.py", line 97, in lifespan
    await init_gestionnaire_rendezvous_instance()
  File "/home/termux/Documents/ia_sante_ia/app/dependances/injection.py", line 196, in init_gestionnaire_rendezvous_instance
    _gestionnaire_rendezvous_instance = GestionnaireRendezvous(
                                        ^^^^^^^^^^^^^^^^^^^^^^^
TypeError: GestionnaireRendezvous.__init__() got an unexpected keyword argument 'gestionnaire_contexte'

2025-07-19 14:59:57,311 - ERROR - uvicorn.error:on:startup():59 - Application startup failed. Exiting.
2025-07-19 14:59:58,810 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 14:59:58,962 - INFO - uvicorn.error:server:_serve():84 - Started server process [166352]
2025-07-19 14:59:58,962 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 14:59:58,962 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 14:59:58,962 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 14:59:58,973 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():36 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 14:59:58,974 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 14:59:58,974 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 14:59:58,974 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():41 - IntegrateurLLM initialisé.
2025-07-19 14:59:58,975 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - Gestionnaire de Connaissances initialisé.
2025-07-19 14:59:58,975 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():49 - GestionnaireConnaissances initialisé.
2025-07-19 14:59:58,975 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 14:59:58,975 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():57 - GestionnaireContexte initialisé.
2025-07-19 14:59:58,975 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 14:59:58,975 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():65 - GestionnaireVocal initialisé.
2025-07-19 14:59:58,975 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():29 - GestionnaireAuthentification initialisé.
2025-07-19 14:59:58,975 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():78 - GestionnaireAuthentification initialisé.
2025-07-19 14:59:58,976 - INFO - app.services.moteur_diagnostic:moteur_diagnostic:__init__():38 - Moteur de Diagnostic initialisé.
2025-07-19 14:59:58,976 - INFO - app.dependances.injection:injection:init_moteur_diagnostic_instance():106 - MoteurDiagnostic initialisé.
2025-07-19 14:59:58,976 - INFO - app.services.gestionnaire_patient:gestionnaire_patient:__init__():36 - GestionnairePatient initialisé.
2025-07-19 14:59:58,976 - INFO - app.dependances.injection:injection:init_gestionnaire_patient_instance():137 - GestionnairePatient initialisé.
2025-07-19 14:59:58,976 - INFO - app.services.gestionnaire_medecin:gestionnaire_medecin:__init__():40 - GestionnaireMedecin initialisé.
2025-07-19 14:59:58,976 - INFO - app.dependances.injection:injection:init_gestionnaire_medecin_instance():172 - GestionnaireMedecin initialisé.
2025-07-19 14:59:58,976 - INFO - app.services.gestionnaire_structure_medicale:gestionnaire_structure_medicale:__init__():35 - GestionnaireStructureMedicale initialisé.
2025-07-19 14:59:58,976 - INFO - app.dependances.injection:injection:init_gestionnaire_structure_medicale_instance():187 - GestionnaireStructureMedicale initialisé.
2025-07-19 14:59:58,979 - ERROR - uvicorn.error:on:send():121 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/main.py", line 97, in lifespan
    await init_gestionnaire_rendezvous_instance()
  File "/home/termux/Documents/ia_sante_ia/app/dependances/injection.py", line 196, in init_gestionnaire_rendezvous_instance
    _gestionnaire_rendezvous_instance = GestionnaireRendezvous(
                                        ^^^^^^^^^^^^^^^^^^^^^^^
TypeError: GestionnaireRendezvous.__init__() got an unexpected keyword argument 'gestionnaire_contexte'

2025-07-19 14:59:58,979 - ERROR - uvicorn.error:on:startup():59 - Application startup failed. Exiting.
2025-07-19 15:00:36,317 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 15:00:36,474 - INFO - uvicorn.error:server:_serve():84 - Started server process [166424]
2025-07-19 15:00:36,474 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 15:00:36,475 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 15:00:36,475 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 15:00:36,486 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():36 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 15:00:36,486 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 15:00:36,487 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 15:00:36,487 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():41 - IntegrateurLLM initialisé.
2025-07-19 15:00:36,487 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - Gestionnaire de Connaissances initialisé.
2025-07-19 15:00:36,487 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():49 - GestionnaireConnaissances initialisé.
2025-07-19 15:00:36,487 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 15:00:36,487 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():57 - GestionnaireContexte initialisé.
2025-07-19 15:00:36,487 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 15:00:36,488 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():65 - GestionnaireVocal initialisé.
2025-07-19 15:00:36,488 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():29 - GestionnaireAuthentification initialisé.
2025-07-19 15:00:36,488 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():78 - GestionnaireAuthentification initialisé.
2025-07-19 15:00:36,488 - INFO - app.services.moteur_diagnostic:moteur_diagnostic:__init__():38 - Moteur de Diagnostic initialisé.
2025-07-19 15:00:36,488 - INFO - app.dependances.injection:injection:init_moteur_diagnostic_instance():106 - MoteurDiagnostic initialisé.
2025-07-19 15:00:36,488 - INFO - app.services.gestionnaire_patient:gestionnaire_patient:__init__():36 - GestionnairePatient initialisé.
2025-07-19 15:00:36,489 - INFO - app.dependances.injection:injection:init_gestionnaire_patient_instance():137 - GestionnairePatient initialisé.
2025-07-19 15:00:36,489 - INFO - app.services.gestionnaire_medecin:gestionnaire_medecin:__init__():40 - GestionnaireMedecin initialisé.
2025-07-19 15:00:36,489 - INFO - app.dependances.injection:injection:init_gestionnaire_medecin_instance():172 - GestionnaireMedecin initialisé.
2025-07-19 15:00:36,489 - INFO - app.services.gestionnaire_structure_medicale:gestionnaire_structure_medicale:__init__():35 - GestionnaireStructureMedicale initialisé.
2025-07-19 15:00:36,489 - INFO - app.dependances.injection:injection:init_gestionnaire_structure_medicale_instance():196 - GestionnaireStructureMedicale initialisé.
2025-07-19 15:00:36,492 - ERROR - uvicorn.error:on:send():121 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/main.py", line 97, in lifespan
    await init_gestionnaire_rendezvous_instance()
  File "/home/termux/Documents/ia_sante_ia/app/dependances/injection.py", line 205, in init_gestionnaire_rendezvous_instance
    _gestionnaire_rendezvous_instance = GestionnaireRendezvous(
                                        ^^^^^^^^^^^^^^^^^^^^^^^
TypeError: GestionnaireRendezvous.__init__() got an unexpected keyword argument 'gestionnaire_contexte'

2025-07-19 15:00:36,493 - ERROR - uvicorn.error:on:startup():59 - Application startup failed. Exiting.
2025-07-19 15:00:38,537 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 15:00:38,731 - INFO - uvicorn.error:server:_serve():84 - Started server process [166436]
2025-07-19 15:00:38,731 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 15:00:38,732 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 15:00:38,732 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 15:00:38,744 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():36 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 15:00:38,745 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 15:00:38,746 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 15:00:38,746 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():41 - IntegrateurLLM initialisé.
2025-07-19 15:00:38,746 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - Gestionnaire de Connaissances initialisé.
2025-07-19 15:00:38,746 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():49 - GestionnaireConnaissances initialisé.
2025-07-19 15:00:38,746 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 15:00:38,747 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():57 - GestionnaireContexte initialisé.
2025-07-19 15:00:38,747 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 15:00:38,747 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():65 - GestionnaireVocal initialisé.
2025-07-19 15:00:38,747 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():29 - GestionnaireAuthentification initialisé.
2025-07-19 15:00:38,747 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():78 - GestionnaireAuthentification initialisé.
2025-07-19 15:00:38,747 - INFO - app.services.moteur_diagnostic:moteur_diagnostic:__init__():38 - Moteur de Diagnostic initialisé.
2025-07-19 15:00:38,748 - INFO - app.dependances.injection:injection:init_moteur_diagnostic_instance():106 - MoteurDiagnostic initialisé.
2025-07-19 15:00:38,748 - INFO - app.services.gestionnaire_patient:gestionnaire_patient:__init__():36 - GestionnairePatient initialisé.
2025-07-19 15:00:38,748 - INFO - app.dependances.injection:injection:init_gestionnaire_patient_instance():137 - GestionnairePatient initialisé.
2025-07-19 15:00:38,748 - INFO - app.services.gestionnaire_medecin:gestionnaire_medecin:__init__():40 - GestionnaireMedecin initialisé.
2025-07-19 15:00:38,748 - INFO - app.dependances.injection:injection:init_gestionnaire_medecin_instance():172 - GestionnaireMedecin initialisé.
2025-07-19 15:00:38,748 - INFO - app.services.gestionnaire_structure_medicale:gestionnaire_structure_medicale:__init__():35 - GestionnaireStructureMedicale initialisé.
2025-07-19 15:00:38,749 - INFO - app.dependances.injection:injection:init_gestionnaire_structure_medicale_instance():196 - GestionnaireStructureMedicale initialisé.
2025-07-19 15:00:38,753 - ERROR - uvicorn.error:on:send():121 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/main.py", line 97, in lifespan
    await init_gestionnaire_rendezvous_instance()
  File "/home/termux/Documents/ia_sante_ia/app/dependances/injection.py", line 205, in init_gestionnaire_rendezvous_instance
    _gestionnaire_rendezvous_instance = GestionnaireRendezvous(
                                        ^^^^^^^^^^^^^^^^^^^^^^^
TypeError: GestionnaireRendezvous.__init__() got an unexpected keyword argument 'gestionnaire_contexte'

2025-07-19 15:00:38,753 - ERROR - uvicorn.error:on:startup():59 - Application startup failed. Exiting.
2025-07-19 15:00:52,852 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 15:00:53,037 - INFO - uvicorn.error:server:_serve():84 - Started server process [166469]
2025-07-19 15:00:53,037 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 15:00:53,038 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 15:00:53,038 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 15:00:53,051 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():36 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 15:00:53,052 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 15:00:53,052 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 15:00:53,052 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():41 - IntegrateurLLM initialisé.
2025-07-19 15:00:53,052 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - Gestionnaire de Connaissances initialisé.
2025-07-19 15:00:53,052 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():49 - GestionnaireConnaissances initialisé.
2025-07-19 15:00:53,052 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 15:00:53,052 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():57 - GestionnaireContexte initialisé.
2025-07-19 15:00:53,053 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 15:00:53,053 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():65 - GestionnaireVocal initialisé.
2025-07-19 15:00:53,053 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():29 - GestionnaireAuthentification initialisé.
2025-07-19 15:00:53,053 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():78 - GestionnaireAuthentification initialisé.
2025-07-19 15:00:53,053 - INFO - app.services.moteur_diagnostic:moteur_diagnostic:__init__():38 - Moteur de Diagnostic initialisé.
2025-07-19 15:00:53,053 - INFO - app.dependances.injection:injection:init_moteur_diagnostic_instance():106 - MoteurDiagnostic initialisé.
2025-07-19 15:00:53,053 - INFO - app.services.gestionnaire_patient:gestionnaire_patient:__init__():36 - GestionnairePatient initialisé.
2025-07-19 15:00:53,053 - INFO - app.dependances.injection:injection:init_gestionnaire_patient_instance():137 - GestionnairePatient initialisé.
2025-07-19 15:00:53,054 - INFO - app.services.gestionnaire_medecin:gestionnaire_medecin:__init__():40 - GestionnaireMedecin initialisé.
2025-07-19 15:00:53,054 - INFO - app.dependances.injection:injection:init_gestionnaire_medecin_instance():172 - GestionnaireMedecin initialisé.
2025-07-19 15:00:53,054 - INFO - app.services.gestionnaire_structure_medicale:gestionnaire_structure_medicale:__init__():35 - GestionnaireStructureMedicale initialisé.
2025-07-19 15:00:53,054 - INFO - app.dependances.injection:injection:init_gestionnaire_structure_medicale_instance():196 - GestionnaireStructureMedicale initialisé.
2025-07-19 15:00:53,057 - ERROR - uvicorn.error:on:send():121 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/main.py", line 97, in lifespan
    await init_gestionnaire_rendezvous_instance()
  File "/home/termux/Documents/ia_sante_ia/app/dependances/injection.py", line 205, in init_gestionnaire_rendezvous_instance
    _gestionnaire_rendezvous_instance = GestionnaireRendezvous(
                                        ^^^^^^^^^^^^^^^^^^^^^^^
TypeError: GestionnaireRendezvous.__init__() got an unexpected keyword argument 'gestionnaire_contexte'

2025-07-19 15:00:53,057 - ERROR - uvicorn.error:on:startup():59 - Application startup failed. Exiting.
2025-07-19 15:10:38,125 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 15:10:38,286 - INFO - uvicorn.error:server:_serve():84 - Started server process [167944]
2025-07-19 15:10:38,286 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 15:10:38,287 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 15:10:38,287 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 15:10:38,302 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():36 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 15:10:38,303 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 15:10:38,303 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 15:10:38,304 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():41 - IntegrateurLLM initialisé.
2025-07-19 15:10:38,304 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - Gestionnaire de Connaissances initialisé.
2025-07-19 15:10:38,304 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():49 - GestionnaireConnaissances initialisé.
2025-07-19 15:10:38,304 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 15:10:38,304 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():57 - GestionnaireContexte initialisé.
2025-07-19 15:10:38,305 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 15:10:38,305 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():65 - GestionnaireVocal initialisé.
2025-07-19 15:10:38,305 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():29 - GestionnaireAuthentification initialisé.
2025-07-19 15:10:38,305 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():78 - GestionnaireAuthentification initialisé.
2025-07-19 15:10:38,305 - INFO - app.services.moteur_diagnostic:moteur_diagnostic:__init__():38 - Moteur de Diagnostic initialisé.
2025-07-19 15:10:38,305 - INFO - app.dependances.injection:injection:init_moteur_diagnostic_instance():106 - MoteurDiagnostic initialisé.
2025-07-19 15:10:38,305 - INFO - app.services.gestionnaire_patient:gestionnaire_patient:__init__():36 - GestionnairePatient initialisé.
2025-07-19 15:10:38,305 - INFO - app.dependances.injection:injection:init_gestionnaire_patient_instance():137 - GestionnairePatient initialisé.
2025-07-19 15:10:38,306 - INFO - app.services.gestionnaire_medecin:gestionnaire_medecin:__init__():40 - GestionnaireMedecin initialisé.
2025-07-19 15:10:38,306 - INFO - app.dependances.injection:injection:init_gestionnaire_medecin_instance():172 - GestionnaireMedecin initialisé.
2025-07-19 15:10:38,306 - INFO - app.services.gestionnaire_structure_medicale:gestionnaire_structure_medicale:__init__():35 - GestionnaireStructureMedicale initialisé.
2025-07-19 15:10:38,306 - INFO - app.dependances.injection:injection:init_gestionnaire_structure_medicale_instance():196 - GestionnaireStructureMedicale initialisé.
2025-07-19 15:10:38,306 - INFO - app.services.gestionnaire_rendezvous:gestionnaire_rendezvous:__init__():30 - GestionnaireRendezvous initialisé.
2025-07-19 15:10:38,306 - INFO - app.dependances.injection:injection:init_gestionnaire_rendezvous_instance():215 - GestionnaireRendezvous initialisé.
2025-07-19 15:10:38,309 - ERROR - uvicorn.error:on:send():121 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    return await anext(self.gen)
           ^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/main.py", line 98, in lifespan
    await init_gestionnaire_telemedecine_instance()
  File "/home/termux/Documents/ia_sante_ia/app/dependances/injection.py", line 226, in init_gestionnaire_telemedecine_instance
    _gestionnaire_telemedecine_instance = GestionnaireTelemedecine(
                                          ^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: GestionnaireTelemedecine.__init__() got an unexpected keyword argument 'gestionnaire_contexte'

2025-07-19 15:10:38,310 - ERROR - uvicorn.error:on:startup():59 - Application startup failed. Exiting.
2025-07-19 15:17:11,777 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 15:17:11,956 - INFO - uvicorn.error:server:_serve():84 - Started server process [168717]
2025-07-19 15:17:11,956 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 15:17:11,957 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 15:17:11,957 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 15:17:11,974 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():36 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 15:17:11,975 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 15:17:11,975 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 15:17:11,975 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():41 - IntegrateurLLM initialisé.
2025-07-19 15:17:11,976 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - Gestionnaire de Connaissances initialisé.
2025-07-19 15:17:11,976 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():49 - GestionnaireConnaissances initialisé.
2025-07-19 15:17:11,976 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 15:17:11,976 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():57 - GestionnaireContexte initialisé.
2025-07-19 15:17:11,976 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 15:17:11,976 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():65 - GestionnaireVocal initialisé.
2025-07-19 15:17:11,977 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():29 - GestionnaireAuthentification initialisé.
2025-07-19 15:17:11,977 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():78 - GestionnaireAuthentification initialisé.
2025-07-19 15:17:11,977 - INFO - app.services.moteur_diagnostic:moteur_diagnostic:__init__():38 - Moteur de Diagnostic initialisé.
2025-07-19 15:17:11,977 - INFO - app.dependances.injection:injection:init_moteur_diagnostic_instance():106 - MoteurDiagnostic initialisé.
2025-07-19 15:17:11,977 - INFO - app.services.gestionnaire_patient:gestionnaire_patient:__init__():36 - GestionnairePatient initialisé.
2025-07-19 15:17:11,977 - INFO - app.dependances.injection:injection:init_gestionnaire_patient_instance():137 - GestionnairePatient initialisé.
2025-07-19 15:17:11,978 - INFO - app.services.gestionnaire_medecin:gestionnaire_medecin:__init__():40 - GestionnaireMedecin initialisé.
2025-07-19 15:17:11,978 - INFO - app.dependances.injection:injection:init_gestionnaire_medecin_instance():172 - GestionnaireMedecin initialisé.
2025-07-19 15:17:11,978 - INFO - app.services.gestionnaire_structure_medicale:gestionnaire_structure_medicale:__init__():35 - GestionnaireStructureMedicale initialisé.
2025-07-19 15:17:11,978 - INFO - app.dependances.injection:injection:init_gestionnaire_structure_medicale_instance():196 - GestionnaireStructureMedicale initialisé.
2025-07-19 15:17:11,978 - INFO - app.services.gestionnaire_rendezvous:gestionnaire_rendezvous:__init__():30 - GestionnaireRendezvous initialisé.
2025-07-19 15:17:11,978 - INFO - app.dependances.injection:injection:init_gestionnaire_rendezvous_instance():215 - GestionnaireRendezvous initialisé.
2025-07-19 15:17:11,978 - INFO - app.services.gestionnaire_telemedecine:gestionnaire_telemedecine:__init__():37 - GestionnaireTelemedecine initialisé.
2025-07-19 15:17:11,979 - INFO - app.dependances.injection:injection:init_gestionnaire_telemedecine_instance():230 - GestionnaireTelemedecine initialisé.
2025-07-19 15:17:11,979 - INFO - app.services.gestionnaire_geolocalisation:gestionnaire_geolocalisation:__init__():26 - GestionnaireGeolocalisation initialisé.
2025-07-19 15:17:11,979 - INFO - app.dependances.injection:injection:init_gestionnaire_geolocalisation_instance():238 - GestionnaireGeolocalisation initialisé.
2025-07-19 15:17:11,979 - INFO - main:main:lifespan():101 - Tous les services ont été initialisés.
2025-07-19 15:17:11,979 - INFO - uvicorn.error:on:startup():62 - Application startup complete.
2025-07-19 15:17:21,820 - INFO - uvicorn.error:server:shutdown():264 - Shutting down
2025-07-19 15:17:21,921 - INFO - uvicorn.error:on:shutdown():67 - Waiting for application shutdown.
2025-07-19 15:17:21,922 - INFO - main:main:lifespan():106 - Arrêt de l'application FastAPI...
2025-07-19 15:17:21,927 - ERROR - uvicorn.error:on:send():134 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/main.py", line 107, in lifespan
    close_db_connection()
  File "/home/termux/Documents/ia_sante_ia/app/base_de_donnees/connexion.py", line 69, in close_db_connection
    db_pool.close()
    ^^^^^^^^^^^^^
AttributeError: 'MySQLConnectionPool' object has no attribute 'close'

2025-07-19 15:17:21,928 - ERROR - uvicorn.error:on:shutdown():73 - Application shutdown failed. Exiting.
2025-07-19 15:17:21,929 - INFO - uvicorn.error:server:_serve():94 - Finished server process [168717]
2025-07-19 15:17:29,361 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 15:17:29,516 - INFO - uvicorn.error:server:_serve():84 - Started server process [168785]
2025-07-19 15:17:29,517 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 15:17:29,517 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 15:17:29,517 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 15:17:29,531 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():36 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 15:17:29,532 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 15:17:29,532 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 15:17:29,533 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():41 - IntegrateurLLM initialisé.
2025-07-19 15:17:29,533 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - Gestionnaire de Connaissances initialisé.
2025-07-19 15:17:29,533 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():49 - GestionnaireConnaissances initialisé.
2025-07-19 15:17:29,533 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 15:17:29,533 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():57 - GestionnaireContexte initialisé.
2025-07-19 15:17:29,533 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 15:17:29,534 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():65 - GestionnaireVocal initialisé.
2025-07-19 15:17:29,534 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():29 - GestionnaireAuthentification initialisé.
2025-07-19 15:17:29,534 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():78 - GestionnaireAuthentification initialisé.
2025-07-19 15:17:29,534 - INFO - app.services.moteur_diagnostic:moteur_diagnostic:__init__():38 - Moteur de Diagnostic initialisé.
2025-07-19 15:17:29,534 - INFO - app.dependances.injection:injection:init_moteur_diagnostic_instance():106 - MoteurDiagnostic initialisé.
2025-07-19 15:17:29,534 - INFO - app.services.gestionnaire_patient:gestionnaire_patient:__init__():36 - GestionnairePatient initialisé.
2025-07-19 15:17:29,534 - INFO - app.dependances.injection:injection:init_gestionnaire_patient_instance():137 - GestionnairePatient initialisé.
2025-07-19 15:17:29,534 - INFO - app.services.gestionnaire_medecin:gestionnaire_medecin:__init__():40 - GestionnaireMedecin initialisé.
2025-07-19 15:17:29,535 - INFO - app.dependances.injection:injection:init_gestionnaire_medecin_instance():172 - GestionnaireMedecin initialisé.
2025-07-19 15:17:29,535 - INFO - app.services.gestionnaire_structure_medicale:gestionnaire_structure_medicale:__init__():35 - GestionnaireStructureMedicale initialisé.
2025-07-19 15:17:29,535 - INFO - app.dependances.injection:injection:init_gestionnaire_structure_medicale_instance():196 - GestionnaireStructureMedicale initialisé.
2025-07-19 15:17:29,535 - INFO - app.services.gestionnaire_rendezvous:gestionnaire_rendezvous:__init__():30 - GestionnaireRendezvous initialisé.
2025-07-19 15:17:29,535 - INFO - app.dependances.injection:injection:init_gestionnaire_rendezvous_instance():215 - GestionnaireRendezvous initialisé.
2025-07-19 15:17:29,535 - INFO - app.services.gestionnaire_telemedecine:gestionnaire_telemedecine:__init__():37 - GestionnaireTelemedecine initialisé.
2025-07-19 15:17:29,535 - INFO - app.dependances.injection:injection:init_gestionnaire_telemedecine_instance():230 - GestionnaireTelemedecine initialisé.
2025-07-19 15:17:29,536 - INFO - app.services.gestionnaire_geolocalisation:gestionnaire_geolocalisation:__init__():26 - GestionnaireGeolocalisation initialisé.
2025-07-19 15:17:29,536 - INFO - app.dependances.injection:injection:init_gestionnaire_geolocalisation_instance():238 - GestionnaireGeolocalisation initialisé.
2025-07-19 15:17:29,536 - INFO - main:main:lifespan():101 - Tous les services ont été initialisés.
2025-07-19 15:17:29,536 - INFO - uvicorn.error:on:startup():62 - Application startup complete.
2025-07-19 15:23:43,027 - INFO - uvicorn.access:httptools_impl:send():476 - 127.0.0.1:34942 - "GET /docs HTTP/1.1" 200
2025-07-19 15:23:44,058 - INFO - uvicorn.access:httptools_impl:send():476 - 127.0.0.1:34942 - "GET /openapi.json HTTP/1.1" 200
2025-07-19 15:27:09,922 - INFO - uvicorn.access:httptools_impl:send():476 - 127.0.0.1:41494 - "POST /api/v1/auth/register/ HTTP/1.1" 307
2025-07-19 15:27:09,948 - INFO - app.api.v1.authentification_router:authentification_router:register_user():73 - Tentative d'enregistrement de l'utilisateur: user@example.com avec le rôle: medecin
2025-07-19 15:27:10,378 - ERROR - app.services.gestionnaire_authentification:gestionnaire_authentification:enregistrer_utilisateur():99 - Erreur lors de l'enregistrement de l'utilisateur: 4 validation errors for UserEnDB
id
  Field required [type=missing, input_value={'email': 'user@example.c...ieBjbS7Ie5LOMVof/tdRZi'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
date_creation
  Field required [type=missing, input_value={'email': 'user@example.c...ieBjbS7Ie5LOMVof/tdRZi'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
est_actif
  Field required [type=missing, input_value={'email': 'user@example.c...ieBjbS7Ie5LOMVof/tdRZi'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
date_mise_a_jour
  Field required [type=missing, input_value={'email': 'user@example.c...ieBjbS7Ie5LOMVof/tdRZi'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/app/services/gestionnaire_authentification.py", line 83, in enregistrer_utilisateur
    new_user = crud.creer_user(conn, user_data)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/app/base_de_donnees/crud.py", line 380, in creer_user
    user_en_db_instance = UserEnDB(**user_data_to_save)
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/pydantic/main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 4 validation errors for UserEnDB
id
  Field required [type=missing, input_value={'email': 'user@example.c...ieBjbS7Ie5LOMVof/tdRZi'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
date_creation
  Field required [type=missing, input_value={'email': 'user@example.c...ieBjbS7Ie5LOMVof/tdRZi'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
est_actif
  Field required [type=missing, input_value={'email': 'user@example.c...ieBjbS7Ie5LOMVof/tdRZi'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
date_mise_a_jour
  Field required [type=missing, input_value={'email': 'user@example.c...ieBjbS7Ie5LOMVof/tdRZi'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-07-19 15:27:10,381 - INFO - uvicorn.access:httptools_impl:send():476 - 127.0.0.1:41494 - "POST /api/v1/auth/register HTTP/1.1" 500
2025-07-19 15:36:33,646 - INFO - uvicorn.error:server:shutdown():264 - Shutting down
2025-07-19 15:36:33,747 - INFO - uvicorn.error:on:shutdown():67 - Waiting for application shutdown.
2025-07-19 15:36:33,748 - INFO - main:main:lifespan():106 - Arrêt de l'application FastAPI...
2025-07-19 15:36:33,753 - ERROR - uvicorn.error:on:send():134 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/main.py", line 107, in lifespan
    close_db_connection()
  File "/home/termux/Documents/ia_sante_ia/app/base_de_donnees/connexion.py", line 69, in close_db_connection
    db_pool.close()
    ^^^^^^^^^^^^^
AttributeError: 'MySQLConnectionPool' object has no attribute 'close'

2025-07-19 15:36:33,754 - ERROR - uvicorn.error:on:shutdown():73 - Application shutdown failed. Exiting.
2025-07-19 15:36:33,755 - INFO - uvicorn.error:server:_serve():94 - Finished server process [168785]
2025-07-19 16:43:13,523 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 16:43:13,739 - INFO - uvicorn.error:server:_serve():84 - Started server process [180757]
2025-07-19 16:43:13,740 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 16:43:13,740 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 16:43:13,741 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 16:43:13,758 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():36 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 16:43:13,760 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 16:43:13,760 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 16:43:13,760 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():41 - IntegrateurLLM initialisé.
2025-07-19 16:43:13,761 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - GestionnaireConnaissances initialisé.
2025-07-19 16:43:13,761 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():49 - GestionnaireConnaissances initialisé.
2025-07-19 16:43:13,761 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 16:43:13,761 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():57 - GestionnaireContexte initialisé.
2025-07-19 16:43:13,761 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 16:43:13,762 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():65 - GestionnaireVocal initialisé.
2025-07-19 16:43:13,762 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():48 - GestionnaireAuthentification initialisé.
2025-07-19 16:43:13,762 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():78 - GestionnaireAuthentification initialisé.
2025-07-19 16:43:13,762 - INFO - app.services.moteur_diagnostic:moteur_diagnostic:__init__():38 - Moteur de Diagnostic initialisé.
2025-07-19 16:43:13,762 - INFO - app.dependances.injection:injection:init_moteur_diagnostic_instance():106 - MoteurDiagnostic initialisé.
2025-07-19 16:43:13,762 - INFO - app.services.gestionnaire_patient:gestionnaire_patient:__init__():36 - GestionnairePatient initialisé.
2025-07-19 16:43:13,763 - INFO - app.dependances.injection:injection:init_gestionnaire_patient_instance():137 - GestionnairePatient initialisé.
2025-07-19 16:43:13,763 - INFO - app.services.gestionnaire_medecin:gestionnaire_medecin:__init__():39 - GestionnaireMedecin initialisé.
2025-07-19 16:43:13,763 - INFO - app.dependances.injection:injection:init_gestionnaire_medecin_instance():172 - GestionnaireMedecin initialisé.
2025-07-19 16:43:13,763 - INFO - app.services.gestionnaire_structure_medicale:gestionnaire_structure_medicale:__init__():34 - GestionnaireStructureMedicale initialisé.
2025-07-19 16:43:13,763 - INFO - app.dependances.injection:injection:init_gestionnaire_structure_medicale_instance():196 - GestionnaireStructureMedicale initialisé.
2025-07-19 16:43:13,764 - INFO - app.services.gestionnaire_rendezvous:gestionnaire_rendezvous:__init__():30 - GestionnaireRendezvous initialisé.
2025-07-19 16:43:13,764 - INFO - app.dependances.injection:injection:init_gestionnaire_rendezvous_instance():215 - GestionnaireRendezvous initialisé.
2025-07-19 16:43:13,764 - INFO - app.services.gestionnaire_telemedecine:gestionnaire_telemedecine:__init__():37 - GestionnaireTelemedecine initialisé.
2025-07-19 16:43:13,764 - INFO - app.dependances.injection:injection:init_gestionnaire_telemedecine_instance():239 - GestionnaireTelemedecine initialisé.
2025-07-19 16:43:13,764 - INFO - app.services.gestionnaire_geolocalisation:gestionnaire_geolocalisation:__init__():26 - GestionnaireGeolocalisation initialisé.
2025-07-19 16:43:13,765 - INFO - app.dependances.injection:injection:init_gestionnaire_geolocalisation_instance():247 - GestionnaireGeolocalisation initialisé.
2025-07-19 16:43:13,765 - INFO - main:main:lifespan():101 - Tous les services ont été initialisés.
2025-07-19 16:43:13,765 - INFO - uvicorn.error:on:startup():62 - Application startup complete.
2025-07-19 16:43:15,612 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 16:43:15,759 - INFO - uvicorn.error:server:_serve():84 - Started server process [180779]
2025-07-19 16:43:15,759 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 16:43:15,760 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 16:43:15,760 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 16:43:15,770 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():36 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 16:43:15,771 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 16:43:15,771 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 16:43:15,771 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():41 - IntegrateurLLM initialisé.
2025-07-19 16:43:15,771 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - GestionnaireConnaissances initialisé.
2025-07-19 16:43:15,772 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():49 - GestionnaireConnaissances initialisé.
2025-07-19 16:43:15,772 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 16:43:15,772 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():57 - GestionnaireContexte initialisé.
2025-07-19 16:43:15,772 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 16:43:15,772 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():65 - GestionnaireVocal initialisé.
2025-07-19 16:43:15,772 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():48 - GestionnaireAuthentification initialisé.
2025-07-19 16:43:15,772 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():78 - GestionnaireAuthentification initialisé.
2025-07-19 16:43:15,772 - INFO - app.services.moteur_diagnostic:moteur_diagnostic:__init__():38 - Moteur de Diagnostic initialisé.
2025-07-19 16:43:15,772 - INFO - app.dependances.injection:injection:init_moteur_diagnostic_instance():106 - MoteurDiagnostic initialisé.
2025-07-19 16:43:15,772 - INFO - app.services.gestionnaire_patient:gestionnaire_patient:__init__():36 - GestionnairePatient initialisé.
2025-07-19 16:43:15,772 - INFO - app.dependances.injection:injection:init_gestionnaire_patient_instance():137 - GestionnairePatient initialisé.
2025-07-19 16:43:15,773 - INFO - app.services.gestionnaire_medecin:gestionnaire_medecin:__init__():39 - GestionnaireMedecin initialisé.
2025-07-19 16:43:15,773 - INFO - app.dependances.injection:injection:init_gestionnaire_medecin_instance():172 - GestionnaireMedecin initialisé.
2025-07-19 16:43:15,773 - INFO - app.services.gestionnaire_structure_medicale:gestionnaire_structure_medicale:__init__():34 - GestionnaireStructureMedicale initialisé.
2025-07-19 16:43:15,773 - INFO - app.dependances.injection:injection:init_gestionnaire_structure_medicale_instance():196 - GestionnaireStructureMedicale initialisé.
2025-07-19 16:43:15,773 - INFO - app.services.gestionnaire_rendezvous:gestionnaire_rendezvous:__init__():30 - GestionnaireRendezvous initialisé.
2025-07-19 16:43:15,773 - INFO - app.dependances.injection:injection:init_gestionnaire_rendezvous_instance():215 - GestionnaireRendezvous initialisé.
2025-07-19 16:43:15,773 - INFO - app.services.gestionnaire_telemedecine:gestionnaire_telemedecine:__init__():37 - GestionnaireTelemedecine initialisé.
2025-07-19 16:43:15,773 - INFO - app.dependances.injection:injection:init_gestionnaire_telemedecine_instance():239 - GestionnaireTelemedecine initialisé.
2025-07-19 16:43:15,773 - INFO - app.services.gestionnaire_geolocalisation:gestionnaire_geolocalisation:__init__():26 - GestionnaireGeolocalisation initialisé.
2025-07-19 16:43:15,773 - INFO - app.dependances.injection:injection:init_gestionnaire_geolocalisation_instance():247 - GestionnaireGeolocalisation initialisé.
2025-07-19 16:43:15,774 - INFO - main:main:lifespan():101 - Tous les services ont été initialisés.
2025-07-19 16:43:15,774 - INFO - uvicorn.error:on:startup():62 - Application startup complete.
2025-07-19 16:43:22,200 - INFO - uvicorn.error:server:shutdown():264 - Shutting down
2025-07-19 16:43:22,301 - INFO - uvicorn.error:on:shutdown():67 - Waiting for application shutdown.
2025-07-19 16:43:22,302 - INFO - main:main:lifespan():106 - Arrêt de l'application FastAPI...
2025-07-19 16:43:22,311 - ERROR - uvicorn.error:on:send():134 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/main.py", line 107, in lifespan
    close_db_connection()
  File "/home/termux/Documents/ia_sante_ia/app/base_de_donnees/connexion.py", line 69, in close_db_connection
    db_pool.close()
    ^^^^^^^^^^^^^
AttributeError: 'MySQLConnectionPool' object has no attribute 'close'

2025-07-19 16:43:22,314 - ERROR - uvicorn.error:on:shutdown():73 - Application shutdown failed. Exiting.
2025-07-19 16:43:22,315 - INFO - uvicorn.error:server:_serve():94 - Finished server process [180779]
2025-07-19 16:43:26,813 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 16:43:26,973 - INFO - uvicorn.error:server:_serve():84 - Started server process [180800]
2025-07-19 16:43:26,973 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 16:43:26,974 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 16:43:26,975 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 16:43:26,990 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():36 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 16:43:26,991 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 16:43:26,991 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 16:43:26,991 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():41 - IntegrateurLLM initialisé.
2025-07-19 16:43:26,991 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - GestionnaireConnaissances initialisé.
2025-07-19 16:43:26,991 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():49 - GestionnaireConnaissances initialisé.
2025-07-19 16:43:26,991 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 16:43:26,992 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():57 - GestionnaireContexte initialisé.
2025-07-19 16:43:26,992 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 16:43:26,992 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():65 - GestionnaireVocal initialisé.
2025-07-19 16:43:26,992 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():48 - GestionnaireAuthentification initialisé.
2025-07-19 16:43:26,992 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():78 - GestionnaireAuthentification initialisé.
2025-07-19 16:43:26,992 - INFO - app.services.moteur_diagnostic:moteur_diagnostic:__init__():38 - Moteur de Diagnostic initialisé.
2025-07-19 16:43:26,992 - INFO - app.dependances.injection:injection:init_moteur_diagnostic_instance():106 - MoteurDiagnostic initialisé.
2025-07-19 16:43:26,993 - INFO - app.services.gestionnaire_patient:gestionnaire_patient:__init__():36 - GestionnairePatient initialisé.
2025-07-19 16:43:26,993 - INFO - app.dependances.injection:injection:init_gestionnaire_patient_instance():137 - GestionnairePatient initialisé.
2025-07-19 16:43:26,993 - INFO - app.services.gestionnaire_medecin:gestionnaire_medecin:__init__():39 - GestionnaireMedecin initialisé.
2025-07-19 16:43:26,993 - INFO - app.dependances.injection:injection:init_gestionnaire_medecin_instance():172 - GestionnaireMedecin initialisé.
2025-07-19 16:43:26,993 - INFO - app.services.gestionnaire_structure_medicale:gestionnaire_structure_medicale:__init__():34 - GestionnaireStructureMedicale initialisé.
2025-07-19 16:43:26,994 - INFO - app.dependances.injection:injection:init_gestionnaire_structure_medicale_instance():196 - GestionnaireStructureMedicale initialisé.
2025-07-19 16:43:26,994 - INFO - app.services.gestionnaire_rendezvous:gestionnaire_rendezvous:__init__():30 - GestionnaireRendezvous initialisé.
2025-07-19 16:43:26,994 - INFO - app.dependances.injection:injection:init_gestionnaire_rendezvous_instance():215 - GestionnaireRendezvous initialisé.
2025-07-19 16:43:26,994 - INFO - app.services.gestionnaire_telemedecine:gestionnaire_telemedecine:__init__():37 - GestionnaireTelemedecine initialisé.
2025-07-19 16:43:26,994 - INFO - app.dependances.injection:injection:init_gestionnaire_telemedecine_instance():239 - GestionnaireTelemedecine initialisé.
2025-07-19 16:43:26,994 - INFO - app.services.gestionnaire_geolocalisation:gestionnaire_geolocalisation:__init__():26 - GestionnaireGeolocalisation initialisé.
2025-07-19 16:43:26,995 - INFO - app.dependances.injection:injection:init_gestionnaire_geolocalisation_instance():247 - GestionnaireGeolocalisation initialisé.
2025-07-19 16:43:26,995 - INFO - main:main:lifespan():101 - Tous les services ont été initialisés.
2025-07-19 16:43:26,995 - INFO - uvicorn.error:on:startup():62 - Application startup complete.
2025-07-19 16:43:32,149 - INFO - uvicorn.access:httptools_impl:send():476 - 127.0.0.1:43092 - "GET /docs HTTP/1.1" 200
2025-07-19 16:43:32,722 - INFO - uvicorn.access:httptools_impl:send():476 - 127.0.0.1:43092 - "GET /openapi.json HTTP/1.1" 200
2025-07-19 16:44:28,779 - INFO - uvicorn.access:httptools_impl:send():476 - 127.0.0.1:39860 - "POST /api/v1/auth/register/ HTTP/1.1" 307
2025-07-19 16:44:28,798 - INFO - uvicorn.access:httptools_impl:send():476 - 127.0.0.1:39860 - "POST /api/v1/auth/register HTTP/1.1" 422
2025-07-19 16:46:15,047 - INFO - uvicorn.access:httptools_impl:send():476 - 127.0.0.1:34650 - "POST /api/v1/auth/register/ HTTP/1.1" 307
2025-07-19 16:46:15,053 - INFO - app.api.v1.authentification_router:authentification_router:register_user():73 - Tentative d'enregistrement de l'utilisateur: user@example.com avec le rôle: string
2025-07-19 16:46:15,054 - ERROR - main:main:gerer_erreurs_globales():136 - Erreur non gérée lors de la requête http://127.0.0.1:8000/api/v1/auth/register: GestionnaireAuthentification.enregistrer_utilisateur() missing 2 required positional arguments: 'mot_de_passe' and 'role'
Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/main.py", line 133, in gerer_erreurs_globales
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/app/api/v1/authentification_router.py", line 75, in register_user
    new_user = await auth_manager.enregistrer_utilisateur(user_data)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: GestionnaireAuthentification.enregistrer_utilisateur() missing 2 required positional arguments: 'mot_de_passe' and 'role'
2025-07-19 16:46:15,060 - INFO - uvicorn.access:httptools_impl:send():476 - 127.0.0.1:34650 - "POST /api/v1/auth/register HTTP/1.1" 500
2025-07-19 16:46:46,040 - INFO - uvicorn.access:httptools_impl:send():476 - 127.0.0.1:55456 - "POST /api/v1/auth/register/ HTTP/1.1" 307
2025-07-19 16:46:46,046 - INFO - app.api.v1.authentification_router:authentification_router:register_user():73 - Tentative d'enregistrement de l'utilisateur: user@example.com avec le rôle: patient
2025-07-19 16:46:46,047 - ERROR - main:main:gerer_erreurs_globales():136 - Erreur non gérée lors de la requête http://127.0.0.1:8000/api/v1/auth/register: GestionnaireAuthentification.enregistrer_utilisateur() missing 2 required positional arguments: 'mot_de_passe' and 'role'
Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/main.py", line 133, in gerer_erreurs_globales
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/app/api/v1/authentification_router.py", line 75, in register_user
    new_user = await auth_manager.enregistrer_utilisateur(user_data)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: GestionnaireAuthentification.enregistrer_utilisateur() missing 2 required positional arguments: 'mot_de_passe' and 'role'
2025-07-19 16:46:46,050 - INFO - uvicorn.access:httptools_impl:send():476 - 127.0.0.1:55456 - "POST /api/v1/auth/register HTTP/1.1" 500
2025-07-19 16:46:49,824 - INFO - uvicorn.error:server:shutdown():264 - Shutting down
2025-07-19 16:46:49,924 - INFO - uvicorn.error:on:shutdown():67 - Waiting for application shutdown.
2025-07-19 16:46:49,925 - INFO - main:main:lifespan():106 - Arrêt de l'application FastAPI...
2025-07-19 16:46:49,933 - ERROR - uvicorn.error:on:send():134 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/main.py", line 107, in lifespan
    close_db_connection()
  File "/home/termux/Documents/ia_sante_ia/app/base_de_donnees/connexion.py", line 69, in close_db_connection
    db_pool.close()
    ^^^^^^^^^^^^^
AttributeError: 'MySQLConnectionPool' object has no attribute 'close'

2025-07-19 16:46:49,936 - ERROR - uvicorn.error:on:shutdown():73 - Application shutdown failed. Exiting.
2025-07-19 16:46:49,936 - INFO - uvicorn.error:server:_serve():94 - Finished server process [180800]
2025-07-19 16:46:54,209 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 16:46:54,361 - INFO - uvicorn.error:server:_serve():84 - Started server process [181078]
2025-07-19 16:46:54,361 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 16:46:54,362 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 16:46:54,362 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 16:46:54,376 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():36 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 16:46:54,377 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 16:46:54,378 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 16:46:54,378 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():41 - IntegrateurLLM initialisé.
2025-07-19 16:46:54,378 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - GestionnaireConnaissances initialisé.
2025-07-19 16:46:54,378 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():49 - GestionnaireConnaissances initialisé.
2025-07-19 16:46:54,378 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 16:46:54,378 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():57 - GestionnaireContexte initialisé.
2025-07-19 16:46:54,378 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 16:46:54,379 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():65 - GestionnaireVocal initialisé.
2025-07-19 16:46:54,379 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():48 - GestionnaireAuthentification initialisé.
2025-07-19 16:46:54,379 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():78 - GestionnaireAuthentification initialisé.
2025-07-19 16:46:54,379 - INFO - app.services.moteur_diagnostic:moteur_diagnostic:__init__():38 - Moteur de Diagnostic initialisé.
2025-07-19 16:46:54,379 - INFO - app.dependances.injection:injection:init_moteur_diagnostic_instance():106 - MoteurDiagnostic initialisé.
2025-07-19 16:46:54,379 - INFO - app.services.gestionnaire_patient:gestionnaire_patient:__init__():36 - GestionnairePatient initialisé.
2025-07-19 16:46:54,380 - INFO - app.dependances.injection:injection:init_gestionnaire_patient_instance():137 - GestionnairePatient initialisé.
2025-07-19 16:46:54,380 - INFO - app.services.gestionnaire_medecin:gestionnaire_medecin:__init__():39 - GestionnaireMedecin initialisé.
2025-07-19 16:46:54,380 - INFO - app.dependances.injection:injection:init_gestionnaire_medecin_instance():172 - GestionnaireMedecin initialisé.
2025-07-19 16:46:54,380 - INFO - app.services.gestionnaire_structure_medicale:gestionnaire_structure_medicale:__init__():34 - GestionnaireStructureMedicale initialisé.
2025-07-19 16:46:54,380 - INFO - app.dependances.injection:injection:init_gestionnaire_structure_medicale_instance():196 - GestionnaireStructureMedicale initialisé.
2025-07-19 16:46:54,380 - INFO - app.services.gestionnaire_rendezvous:gestionnaire_rendezvous:__init__():30 - GestionnaireRendezvous initialisé.
2025-07-19 16:46:54,380 - INFO - app.dependances.injection:injection:init_gestionnaire_rendezvous_instance():215 - GestionnaireRendezvous initialisé.
2025-07-19 16:46:54,381 - INFO - app.services.gestionnaire_telemedecine:gestionnaire_telemedecine:__init__():37 - GestionnaireTelemedecine initialisé.
2025-07-19 16:46:54,381 - INFO - app.dependances.injection:injection:init_gestionnaire_telemedecine_instance():239 - GestionnaireTelemedecine initialisé.
2025-07-19 16:46:54,381 - INFO - app.services.gestionnaire_geolocalisation:gestionnaire_geolocalisation:__init__():26 - GestionnaireGeolocalisation initialisé.
2025-07-19 16:46:54,381 - INFO - app.dependances.injection:injection:init_gestionnaire_geolocalisation_instance():247 - GestionnaireGeolocalisation initialisé.
2025-07-19 16:46:54,381 - INFO - main:main:lifespan():101 - Tous les services ont été initialisés.
2025-07-19 16:46:54,381 - INFO - uvicorn.error:on:startup():62 - Application startup complete.
2025-07-19 16:47:02,642 - INFO - uvicorn.access:httptools_impl:send():476 - 127.0.0.1:40412 - "POST /api/v1/auth/register/ HTTP/1.1" 307
2025-07-19 16:47:02,669 - INFO - app.api.v1.authentification_router:authentification_router:register_user():73 - Tentative d'enregistrement de l'utilisateur: user@example.com avec le rôle: patient
2025-07-19 16:47:02,669 - ERROR - main:main:gerer_erreurs_globales():136 - Erreur non gérée lors de la requête http://127.0.0.1:8000/api/v1/auth/register: GestionnaireAuthentification.enregistrer_utilisateur() missing 2 required positional arguments: 'mot_de_passe' and 'role'
Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 148, in call_next
    message = await recv_stream.receive()
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/anyio/streams/memory.py", line 126, in receive
    raise EndOfStream from None
anyio.EndOfStream

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/main.py", line 133, in gerer_erreurs_globales
    response = await call_next(request)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 156, in call_next
    raise app_exc
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/middleware/base.py", line 141, in coro
    await self.app(scope, receive_or_disconnect, send_no_error)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/termux/Documents/ia_sante_ia/app/api/v1/authentification_router.py", line 75, in register_user
    new_user = await auth_manager.enregistrer_utilisateur(user_data)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: GestionnaireAuthentification.enregistrer_utilisateur() missing 2 required positional arguments: 'mot_de_passe' and 'role'
2025-07-19 16:47:02,674 - INFO - uvicorn.access:httptools_impl:send():476 - 127.0.0.1:40412 - "POST /api/v1/auth/register HTTP/1.1" 500
2025-07-19 16:50:06,588 - INFO - uvicorn.error:server:shutdown():264 - Shutting down
2025-07-19 16:50:06,689 - INFO - uvicorn.error:on:shutdown():67 - Waiting for application shutdown.
2025-07-19 16:50:06,689 - INFO - main:main:lifespan():106 - Arrêt de l'application FastAPI...
2025-07-19 16:50:06,692 - ERROR - uvicorn.error:on:send():134 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/main.py", line 107, in lifespan
    close_db_connection()
  File "/home/termux/Documents/ia_sante_ia/app/base_de_donnees/connexion.py", line 69, in close_db_connection
    db_pool.close()
    ^^^^^^^^^^^^^
AttributeError: 'MySQLConnectionPool' object has no attribute 'close'

2025-07-19 16:50:06,694 - ERROR - uvicorn.error:on:shutdown():73 - Application shutdown failed. Exiting.
2025-07-19 16:50:06,694 - INFO - uvicorn.error:server:_serve():94 - Finished server process [181078]
2025-07-19 16:50:08,808 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 16:50:09,040 - INFO - uvicorn.error:server:_serve():84 - Started server process [181389]
2025-07-19 16:50:09,041 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 16:50:09,042 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 16:50:09,042 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 16:50:09,059 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():36 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 16:50:09,060 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 16:50:09,061 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 16:50:09,061 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():41 - IntegrateurLLM initialisé.
2025-07-19 16:50:09,061 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - GestionnaireConnaissances initialisé.
2025-07-19 16:50:09,061 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():49 - GestionnaireConnaissances initialisé.
2025-07-19 16:50:09,061 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 16:50:09,062 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():57 - GestionnaireContexte initialisé.
2025-07-19 16:50:09,062 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 16:50:09,062 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():65 - GestionnaireVocal initialisé.
2025-07-19 16:50:09,062 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():48 - GestionnaireAuthentification initialisé.
2025-07-19 16:50:09,062 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():78 - GestionnaireAuthentification initialisé.
2025-07-19 16:50:09,062 - INFO - app.services.moteur_diagnostic:moteur_diagnostic:__init__():38 - Moteur de Diagnostic initialisé.
2025-07-19 16:50:09,063 - INFO - app.dependances.injection:injection:init_moteur_diagnostic_instance():106 - MoteurDiagnostic initialisé.
2025-07-19 16:50:09,063 - INFO - app.services.gestionnaire_patient:gestionnaire_patient:__init__():36 - GestionnairePatient initialisé.
2025-07-19 16:50:09,063 - INFO - app.dependances.injection:injection:init_gestionnaire_patient_instance():137 - GestionnairePatient initialisé.
2025-07-19 16:50:09,063 - INFO - app.services.gestionnaire_medecin:gestionnaire_medecin:__init__():39 - GestionnaireMedecin initialisé.
2025-07-19 16:50:09,064 - INFO - app.dependances.injection:injection:init_gestionnaire_medecin_instance():172 - GestionnaireMedecin initialisé.
2025-07-19 16:50:09,064 - INFO - app.services.gestionnaire_structure_medicale:gestionnaire_structure_medicale:__init__():34 - GestionnaireStructureMedicale initialisé.
2025-07-19 16:50:09,064 - INFO - app.dependances.injection:injection:init_gestionnaire_structure_medicale_instance():196 - GestionnaireStructureMedicale initialisé.
2025-07-19 16:50:09,064 - INFO - app.services.gestionnaire_rendezvous:gestionnaire_rendezvous:__init__():30 - GestionnaireRendezvous initialisé.
2025-07-19 16:50:09,064 - INFO - app.dependances.injection:injection:init_gestionnaire_rendezvous_instance():215 - GestionnaireRendezvous initialisé.
2025-07-19 16:50:09,065 - INFO - app.services.gestionnaire_telemedecine:gestionnaire_telemedecine:__init__():37 - GestionnaireTelemedecine initialisé.
2025-07-19 16:50:09,065 - INFO - app.dependances.injection:injection:init_gestionnaire_telemedecine_instance():239 - GestionnaireTelemedecine initialisé.
2025-07-19 16:50:09,065 - INFO - app.services.gestionnaire_geolocalisation:gestionnaire_geolocalisation:__init__():26 - GestionnaireGeolocalisation initialisé.
2025-07-19 16:50:09,065 - INFO - app.dependances.injection:injection:init_gestionnaire_geolocalisation_instance():247 - GestionnaireGeolocalisation initialisé.
2025-07-19 16:50:09,065 - INFO - main:main:lifespan():101 - Tous les services ont été initialisés.
2025-07-19 16:50:09,066 - INFO - uvicorn.error:on:startup():62 - Application startup complete.
2025-07-19 16:50:10,804 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 16:50:10,981 - INFO - uvicorn.error:server:_serve():84 - Started server process [181401]
2025-07-19 16:50:10,982 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 16:50:10,982 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 16:50:10,982 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 16:50:10,995 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():36 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 16:50:10,996 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 16:50:10,997 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 16:50:10,997 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():41 - IntegrateurLLM initialisé.
2025-07-19 16:50:10,997 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - GestionnaireConnaissances initialisé.
2025-07-19 16:50:10,997 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():49 - GestionnaireConnaissances initialisé.
2025-07-19 16:50:10,997 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 16:50:10,997 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():57 - GestionnaireContexte initialisé.
2025-07-19 16:50:10,998 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 16:50:10,998 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():65 - GestionnaireVocal initialisé.
2025-07-19 16:50:10,998 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():48 - GestionnaireAuthentification initialisé.
2025-07-19 16:50:10,998 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():78 - GestionnaireAuthentification initialisé.
2025-07-19 16:50:10,998 - INFO - app.services.moteur_diagnostic:moteur_diagnostic:__init__():38 - Moteur de Diagnostic initialisé.
2025-07-19 16:50:10,998 - INFO - app.dependances.injection:injection:init_moteur_diagnostic_instance():106 - MoteurDiagnostic initialisé.
2025-07-19 16:50:10,999 - INFO - app.services.gestionnaire_patient:gestionnaire_patient:__init__():36 - GestionnairePatient initialisé.
2025-07-19 16:50:10,999 - INFO - app.dependances.injection:injection:init_gestionnaire_patient_instance():137 - GestionnairePatient initialisé.
2025-07-19 16:50:10,999 - INFO - app.services.gestionnaire_medecin:gestionnaire_medecin:__init__():39 - GestionnaireMedecin initialisé.
2025-07-19 16:50:10,999 - INFO - app.dependances.injection:injection:init_gestionnaire_medecin_instance():172 - GestionnaireMedecin initialisé.
2025-07-19 16:50:10,999 - INFO - app.services.gestionnaire_structure_medicale:gestionnaire_structure_medicale:__init__():34 - GestionnaireStructureMedicale initialisé.
2025-07-19 16:50:10,999 - INFO - app.dependances.injection:injection:init_gestionnaire_structure_medicale_instance():196 - GestionnaireStructureMedicale initialisé.
2025-07-19 16:50:11,000 - INFO - app.services.gestionnaire_rendezvous:gestionnaire_rendezvous:__init__():30 - GestionnaireRendezvous initialisé.
2025-07-19 16:50:11,000 - INFO - app.dependances.injection:injection:init_gestionnaire_rendezvous_instance():215 - GestionnaireRendezvous initialisé.
2025-07-19 16:50:11,000 - INFO - app.services.gestionnaire_telemedecine:gestionnaire_telemedecine:__init__():37 - GestionnaireTelemedecine initialisé.
2025-07-19 16:50:11,000 - INFO - app.dependances.injection:injection:init_gestionnaire_telemedecine_instance():239 - GestionnaireTelemedecine initialisé.
2025-07-19 16:50:11,000 - INFO - app.services.gestionnaire_geolocalisation:gestionnaire_geolocalisation:__init__():26 - GestionnaireGeolocalisation initialisé.
2025-07-19 16:50:11,000 - INFO - app.dependances.injection:injection:init_gestionnaire_geolocalisation_instance():247 - GestionnaireGeolocalisation initialisé.
2025-07-19 16:50:11,000 - INFO - main:main:lifespan():101 - Tous les services ont été initialisés.
2025-07-19 16:50:11,001 - INFO - uvicorn.error:on:startup():62 - Application startup complete.
2025-07-19 16:50:22,249 - INFO - uvicorn.error:server:shutdown():264 - Shutting down
2025-07-19 16:50:22,351 - INFO - uvicorn.error:on:shutdown():67 - Waiting for application shutdown.
2025-07-19 16:50:22,352 - INFO - main:main:lifespan():106 - Arrêt de l'application FastAPI...
2025-07-19 16:50:22,366 - ERROR - uvicorn.error:on:send():134 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/main.py", line 107, in lifespan
    close_db_connection()
  File "/home/termux/Documents/ia_sante_ia/app/base_de_donnees/connexion.py", line 69, in close_db_connection
    db_pool.close()
    ^^^^^^^^^^^^^
AttributeError: 'MySQLConnectionPool' object has no attribute 'close'

2025-07-19 16:50:22,370 - ERROR - uvicorn.error:on:shutdown():73 - Application shutdown failed. Exiting.
2025-07-19 16:50:22,371 - INFO - uvicorn.error:server:_serve():94 - Finished server process [181401]
2025-07-19 16:50:24,479 - INFO - root:journalisation:configurer_logger():53 - Système de journalisation configuré. Niveau: INFO, Fichier: app.log
2025-07-19 16:50:24,695 - INFO - uvicorn.error:server:_serve():84 - Started server process [181422]
2025-07-19 16:50:24,696 - INFO - uvicorn.error:on:startup():48 - Waiting for application startup.
2025-07-19 16:50:24,696 - INFO - main:main:lifespan():61 - Démarrage de l'application FastAPI...
2025-07-19 16:50:24,696 - INFO - main:main:lifespan():66 - Répertoires 'uploads' et 'audio_reponses' vérifiés/créés.
2025-07-19 16:50:24,708 - INFO - app.base_de_donnees.connexion:connexion:creer_pool_connexions():36 - Pool de connexions MySQL 'telemedecine_pool' créé avec succès. Taille: 10
2025-07-19 16:50:24,709 - INFO - main:main:lifespan():75 - Connexion initiale à la base de données réussie.
2025-07-19 16:50:24,710 - INFO - app.services.integrateur_llm:integrateur_llm:__init__():67 - Intégrateur LLM initialisé avec Gemini 2.0 Flash pour NLU, Chat et Rapports.
2025-07-19 16:50:24,710 - INFO - app.dependances.injection:injection:init_integrateur_llm_instance():41 - IntegrateurLLM initialisé.
2025-07-19 16:50:24,710 - INFO - app.services.gestionnaire_connaissances:gestionnaire_connaissances:__init__():22 - GestionnaireConnaissances initialisé.
2025-07-19 16:50:24,710 - INFO - app.dependances.injection:injection:init_gestionnaire_connaissances_instance():49 - GestionnaireConnaissances initialisé.
2025-07-19 16:50:24,710 - INFO - app.services.gestionnaire_contexte:gestionnaire_contexte:__init__():24 - Gestionnaire de Contexte initialisé.
2025-07-19 16:50:24,710 - INFO - app.dependances.injection:injection:init_gestionnaire_contexte_instance():57 - GestionnaireContexte initialisé.
2025-07-19 16:50:24,711 - INFO - app.services.gestionnaire_vocal:gestionnaire_vocal:__init__():24 - GestionnaireVocal initialized with SpeechRecognition and gTTS.
2025-07-19 16:50:24,711 - INFO - app.dependances.injection:injection:init_gestionnaire_vocal_instance():65 - GestionnaireVocal initialisé.
2025-07-19 16:50:24,711 - INFO - app.services.gestionnaire_authentification:gestionnaire_authentification:__init__():48 - GestionnaireAuthentification initialisé.
2025-07-19 16:50:24,711 - INFO - app.dependances.injection:injection:init_gestionnaire_authentification_instance():78 - GestionnaireAuthentification initialisé.
2025-07-19 16:50:24,711 - INFO - app.services.moteur_diagnostic:moteur_diagnostic:__init__():38 - Moteur de Diagnostic initialisé.
2025-07-19 16:50:24,711 - INFO - app.dependances.injection:injection:init_moteur_diagnostic_instance():106 - MoteurDiagnostic initialisé.
2025-07-19 16:50:24,712 - INFO - app.services.gestionnaire_patient:gestionnaire_patient:__init__():36 - GestionnairePatient initialisé.
2025-07-19 16:50:24,712 - INFO - app.dependances.injection:injection:init_gestionnaire_patient_instance():137 - GestionnairePatient initialisé.
2025-07-19 16:50:24,712 - INFO - app.services.gestionnaire_medecin:gestionnaire_medecin:__init__():39 - GestionnaireMedecin initialisé.
2025-07-19 16:50:24,712 - INFO - app.dependances.injection:injection:init_gestionnaire_medecin_instance():172 - GestionnaireMedecin initialisé.
2025-07-19 16:50:24,712 - INFO - app.services.gestionnaire_structure_medicale:gestionnaire_structure_medicale:__init__():34 - GestionnaireStructureMedicale initialisé.
2025-07-19 16:50:24,712 - INFO - app.dependances.injection:injection:init_gestionnaire_structure_medicale_instance():196 - GestionnaireStructureMedicale initialisé.
2025-07-19 16:50:24,713 - INFO - app.services.gestionnaire_rendezvous:gestionnaire_rendezvous:__init__():30 - GestionnaireRendezvous initialisé.
2025-07-19 16:50:24,713 - INFO - app.dependances.injection:injection:init_gestionnaire_rendezvous_instance():215 - GestionnaireRendezvous initialisé.
2025-07-19 16:50:24,713 - INFO - app.services.gestionnaire_telemedecine:gestionnaire_telemedecine:__init__():37 - GestionnaireTelemedecine initialisé.
2025-07-19 16:50:24,713 - INFO - app.dependances.injection:injection:init_gestionnaire_telemedecine_instance():239 - GestionnaireTelemedecine initialisé.
2025-07-19 16:50:24,713 - INFO - app.services.gestionnaire_geolocalisation:gestionnaire_geolocalisation:__init__():26 - GestionnaireGeolocalisation initialisé.
2025-07-19 16:50:24,713 - INFO - app.dependances.injection:injection:init_gestionnaire_geolocalisation_instance():247 - GestionnaireGeolocalisation initialisé.
2025-07-19 16:50:24,714 - INFO - main:main:lifespan():101 - Tous les services ont été initialisés.
2025-07-19 16:50:24,714 - INFO - uvicorn.error:on:startup():62 - Application startup complete.
2025-07-19 16:50:58,142 - INFO - uvicorn.error:server:shutdown():264 - Shutting down
2025-07-19 16:50:58,243 - INFO - uvicorn.error:on:shutdown():67 - Waiting for application shutdown.
2025-07-19 16:50:58,245 - INFO - main:main:lifespan():106 - Arrêt de l'application FastAPI...
2025-07-19 16:50:58,255 - ERROR - uvicorn.error:on:send():134 - Traceback (most recent call last):
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/venv/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/termux/Documents/ia_sante_ia/main.py", line 107, in lifespan
    close_db_connection()
  File "/home/termux/Documents/ia_sante_ia/app/base_de_donnees/connexion.py", line 69, in close_db_connection
    db_pool.close()
    ^^^^^^^^^^^^^
AttributeError: 'MySQLConnectionPool' object has no attribute 'close'

2025-07-19 16:50:58,258 - ERROR - uvicorn.error:on:shutdown():73 - Application shutdown failed. Exiting.
2025-07-19 16:50:58,259 - INFO - uvicorn.error:server:_serve():94 - Finished server process [181422]
